!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(){a.weakSet(u.INSTALL_DATE,Date.now()/1e3)}function i(){h.isInstall&&a.weakSet(u.UPDATE_DATE,Date.now()/1e3),h.isUpgrade&&a.set(u.UPDATE_DATE,Date.now()/1e3)}var o=n(1),s=n(9),a=n(44),u=n(80),c=n(85),l=n(87),f=n(134),h=n(53),d=n(159),p=n(5),v=n(160);r(),i();var g=[function(t){o([c,l],t)}];p(g,function(){f.runExternalModules(),d.run(),s.run(),v.run()})},function(t,e,n){"use strict";var r=n(2),i=n(8),o=function(t){this.modules=[],this.callback=t};o.prototype.add=function(t){i.isArray(t)&&(this.modules=this.modules.concat(t))},o.prototype.init=function(){return this.modules.length>0?r.each(this.modules,this._initModule.bind(this),this._onInitComplete.bind(this)):void this._onInitComplete()},o.prototype._initModule=function(t,e){t.init(e)},o.prototype._onInitComplete=function(){"function"==typeof this.callback&&this.callback()},t.exports=function(t,e){var n=new o(e);n.add(t),n.init()}},function(t,e,n){"use strict";var r=n(3),i=n(5),o=n(6),s=n(7);t.exports={parallel:r,series:i,waterfall:o,each:s}},function(t,e,n){"use strict";var r=n(4),i=function(t,e,n){this.completeHandler=e,this.ctx=n||null,this.keys=[],this.tasks=t,this.total=0,this.done=0,this.result=null};i.prototype={run:function(){r.isObject(this.tasks)&&(this.total=Object.keys(this.tasks).length,this._processObjectTasks()),r.isArray(this.tasks)&&(this.total=this.tasks.length,this._proceedArrayTasks()),r.isArray(this.tasks)||r.isObject(this.tasks)||this._onComplete(),r.isEmpty(this.tasks)&&this._onComplete()},_processObjectTasks:function(){var t=this;this.result={},Object.keys(this.tasks).forEach(function(e){r.isFunction(this.tasks[e])&&this.tasks[e].call(this.ctx,function(n){t.result[e]=n,t._onLocalComplete()})},this)},_proceedArrayTasks:function(){var t=this;this.result=new Array(this.tasks.length),this.tasks.forEach(function(e,n){r.isFunction(e)&&e.call(this.ctx,function(e){t.result[n]=e,t._onLocalComplete()})},this)},_onLocalComplete:function(){this.done+=1,this.done>=this.total&&this._onComplete()},_onComplete:function(){r.isFunction(this.completeHandler)&&this.completeHandler.call(this.ctx,this.result)}},t.exports=function(t,e,n){var r=new i(t,e,n);r.run()}},function(t,e){"use strict";t.exports={isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:function(t){return Array.isArray(t)},isObject:function(t){return"object"==typeof t&&Boolean(t)&&!this.isArray(t)},isFunction:function(t){return"function"==typeof t},isDefined:function(t){return"undefined"!=typeof t&&null!==t},isRegexp:function(t){return t instanceof RegExp},isEmpty:function(t){if(this.isArray(t))return 0===t.length;if(this.isObject(t))return 0===Object.keys(t).length;throw new Error("data must be object or array")}}},function(t,e,n){"use strict";var r=n(4),i=function(t,e,n){this.completeHandler=e,this.ctx=n||null,this.keys=[],this.tasks=t,this.total=0,this.done=0,this.result=null,this.indexedTasks=null};i.prototype={run:function(){r.isObject(this.tasks)&&(this.total=Object.keys(this.tasks).length,this._proceedObjectTasks()),r.isArray(this.tasks)&&(this.total=this.tasks.length,this._proceedArrayTasks()),r.isArray(this.tasks)||r.isObject(this.tasks)||this._onComplete()},_proceedObjectTasks:function(){this.indexedTasks=Object.keys(this.tasks).map(function(t){return t}),this.result={},this._nextTask()},_proceedArrayTasks:function(){this.indexedTasks=this.tasks.map(function(t,e){return e}),this.result=new Array(this.tasks.length),this._nextTask()},_proceedTask:function(t,e){r.isFunction(t)?t.call(this.ctx,e):e()},_nextTask:function(){var t=this,e=this._getTaskIndex();this._proceedTask(this.tasks[e],function(n){t.result[e]=n,t._onLocalComplete()})},_getTaskIndex:function(){return this.indexedTasks[this.done]},_onLocalComplete:function(){this.done+=1,this.done>=this.total?this._onComplete():this._nextTask()},_onComplete:function(){r.isFunction(this.completeHandler)&&this.completeHandler.call(this.ctx,this.result)}},t.exports=function(t,e,n){var r=new i(t,e,n);r.run()}},function(t,e,n){"use strict";var r=n(4),i=function(t,e,n){this.completeHandler=e,this.ctx=n||null,this.keys=[],this.tasks=t,this.total=0,this.done=0,this.result=[],this.indexedTasks=null};i.prototype={run:function(){r.isArray(this.tasks)&&(this.total=this.tasks.length,this._proceedArrayTasks()),r.isArray(this.tasks)||this._onComplete()},_proceedArrayTasks:function(){this.indexedTasks=this.tasks.map(function(t,e){return e}),this._nextTask()},_nextTask:function(){var t=this,e=this._getTaskIndex();this._proceedTask(this.tasks[e],function(){t.result=[].slice.call(arguments),t._onLocalComplete()})},_proceedTask:function(t,e){r.isFunction(t)?t.apply(this.ctx,this._processArgs(this.result,e)):e()},_getTaskIndex:function(){return this.indexedTasks[this.done]},_onLocalComplete:function(){this.done+=1,this.done>=this.total?this._onComplete():this._nextTask()},_onComplete:function(){r.isFunction(this.completeHandler)&&this.completeHandler.apply(this.ctx,[].slice.call(this.result))},_processArgs:function(t,e){return t.push(e),t.filter(function(t){return r.isDefined(t)})}},t.exports=function(t,e,n){var r=new i(t,e,n);r.run()}},function(t,e,n){"use strict";var r=n(4),i=function(t,e,n){this.items=t,this.iterator=e,this.callback=n,this.results=[],this.current=0};i.prototype={run:function(){return!r.isArray(this.items)||this.items.length<1?this._completeHandler():void this._callNextTask()},_callNextTask:function(){this.iterator(this.items[this.current],function(t){this.current++,this.results.push(t),this.current<this.items.length?this._callNextTask():this._completeHandler()}.bind(this))},_completeHandler:function(){r.isFunction(this.callback)&&this.callback(this.results)}},t.exports=function(t,e,n){return new i(t,e,n).run()}},function(t,e,n){"use strict";var r=n(4);t.exports={httpRule:/^http(s)?:\/\/.*/i,browserProtocol:/^(chrome|chrome-extension|opera|browser):\/\/.*/i,isString:r.isString,isNumber:r.isNumber,isArray:r.isArray,isObject:r.isObject,isFunction:r.isFunction,isDefined:function(t){return"undefined"!=typeof t&&null!==t},isRegexp:r.isRegexp,isEmpty:r.isEmpty,objectMerge:function(t,e){return this.isObject(t)&&this.isObject(e)&&Object.keys(e).forEach(function(n){t[n]=e[n]}),t},isHttp:function(t){return this.httpRule.test(t)},isBrowserProtocol:function(t){return this.browserProtocol.test(t)},objectUpdate:function(t){var e=this;return Array.prototype.slice.call(arguments,1).forEach(function(n){r.isObject(n)&&Object.keys(n).forEach(function(r){var i=n[r];i&&e.isObject(i)?(t[r]&&e.isObject(t[r])||(t[r]={}),e.objectUpdate(t[r],i)):t[r]=i})}),t},flatObject:function(t,e,n){e=e||".",n=n||"";var r={},i=this;return this.isObject(t)?(Object.keys(t).forEach(function(o){var s=n+o;if(i.isString(t[o])||i.isNumber(t[o]))r[s]=t[o];else{var a=s+e;r=i.objectMerge(r,i.flatObject(t[o],e,a))}}),r):t},clamp:function(t,e,n){return t<e?e:t>n?n:t},getUI:function(){for(var t="{xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx}",e="0123456789ABCDEF";t.indexOf("x")!==-1;)t=t.replace("x",e[Math.floor(16*Math.random())]);return t},serializeUrl:function(t){if(!this.isObject(t))return t;var e=[];return Object.keys(t).forEach(function(n){e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]))}),e.join("&")},deserializeUrl:function(t){var e,n,r,i={},o=/^https?.+\?(.+)/i;return this.isString(t)&&t.length>0&&(e=t.match(o)),e&&(n=e[1].split("&").filter(Boolean)),n&&n.length>0&&n.forEach(function(t){r=t.split("=");var e=decodeURIComponent(r[0]);e&&(i[e]=void 0===r[1]?"":decodeURIComponent(r[1]))}),i},generateUrl:function(t,e){return t+"?"+this.serializeUrl(e)},dataUriToBlob:function(t){var e=t.split(","),n=null,r=null,i=null,o=null,s=null;e.length>1&&(n=e[1]);try{s=e[0].split(":")[1].split(";")[0]}catch(a){s="image"}if(n)try{r=atob(n)}catch(a){}r&&(i=new ArrayBuffer(r.length)),i&&(o=new Uint8Array(i));for(var u=0,c=r.length;u<c;u++)o[u]=r.charCodeAt(u);return new Blob([o],{type:s})},path:function(t,e,n){n=n||".";for(var r=e.split(n),i=t,o=0;o<r.length;o++)if(i=i[r[o]],void 0===i)return;return i},isEqualArrays:function(t,e){return!(!this.isArray(t)||!this.isArray(e))&&(t.length===e.length&&(t=t.sort(),e=e.sort(),t.every(function(t,n){return t===e[n]})))},toArray:function(t){return[].slice.call(t)},cleanArray:function(t){var e=this;return this.isArray(t)?t.filter(function(t){return e.isDefined(t)}):t},toClipBoard:function(t){var e=document.createElement("div");e.contentEditable=!0,document.body.appendChild(e),e.innerHTML=t,e.unselectable="off",e.focus(),document.execCommand("SelectAll"),document.execCommand("Copy",!1,null),document.body.removeChild(e)},debounce:function(t,e,n){var r;return function(){var i=this,o=arguments,s=function(){r=null,n||t.apply(i,o)},a=n&&!r;clearTimeout(r),r=setTimeout(s,e),a&&t.apply(i,o)}},dateToString:function(t){return[this.leadingZeros(t.getDate()),this.leadingZeros(t.getMonth()+1),t.getFullYear()].join(".")},leadingZeros:function(t){return(t<10&&t>=0?"0":"")+t},random:function(t,e){if(t>e)throw new Error("illegal arguments for random");return Math.floor(Math.random()*(e-t+1)+t)},chance:function(t){return this.random(1,100)<=this.clamp(t,0,100)},removeDuplicates:function(t){var e=[];return t.forEach(function(t){e.indexOf(t)<0&&e.push(t)}),e},onceCall:function(t,e){var n=!1;return function(){if(!n)return n=!0,t.apply(e,Array.prototype.slice.call(arguments))}},mix:function(t,e){return Object.keys(e).forEach(function(n){t[n]||null===e[n]||"undefined"==typeof e[n]||(t[n]=e[n])}),t},clearObj:function(t,e){return this.isArray(e)||(e=[]),Object.keys(t).forEach(function(n){("undefined"==typeof t[n]||null===t[n]||e.indexOf(t[n])>=0)&&delete t[n]}),t},getMajMinVersion:function(t,e){return e=e||".",t.split(e).slice(0,2).join(e)}}},function(t,e,n){"use strict";var r=n(10),i=n(82),o=n(83),s=n(87),a=n(130);t.exports={run:function(){var t=o.exportStatData();t.params=t.params||{},t.params.gchid=chrome.runtime.id;var e=s.getBannerId();e&&(t.params.bnrd=e);var n=new r(t),u=new i(t,a.getExperiments);n.run(),u.run()}}},function(t,e,n){"use strict";var r=n(11),i=n(44),o=n(47),s=n(53),a=n(72),u=n(79),c=n(46),l=n(45),f=n(80),h=function(t){this.config=t};h.prototype={APP_INSTALL:"install",DAY_USE:"dayuse",run:function(){u.run(),l.on(c.SOFT_EXPORT_TICK,this._send,this)},_send:function(){var t=i.get(f.SOFT_EXPORT_TIME);return t?void this._sendQuery(this.DAY_USE):this._sendQuery(this.APP_INSTALL)},_sendQuery:function(t){var e={yasoft:this.config.yasoft,ui:this.config.ui,ver:this.config.version,os:s.platform,stat:t,brandID:a.get()};this.config.clid&&(e.clid=this.config.clid),this.config.params&&r(e,this.config.params),this.config.install&&t===this.APP_INSTALL&&r(e,this.config.install),this.config.dayuse&&t===this.DAY_USE&&r(e,this.config.dayuse),(new o.Request).noCache().params(e).get(a.url("soft-export.url"))}},t.exports=h},function(t,e,n){var r=n(12),i=n(39),o=i(r);t.exports=o},function(t,e,n){function r(t,e,n,h,d){if(!u(t))return t;var p=a(e)&&(s(e)||l(e)),v=p?void 0:f(e);return i(v||e,function(i,s){if(v&&(s=i,i=e[s]),c(i))h||(h=[]),d||(d=[]),o(t,e,s,r,n,h,d);else{var a=t[s],u=n?n(a,i,s,t,e):void 0,l=void 0===u;l&&(u=i),void 0===u&&(!p||s in t)||!l&&(u===u?u===a:a!==a)||(t[s]=u)}}),t}var i=n(13),o=n(14),s=n(22),a=n(17),u=n(26),c=n(21),l=n(34),f=n(37);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}t.exports=n},function(t,e,n){function r(t,e,n,r,f,h,d){for(var p=h.length,v=e[n];p--;)if(h[p]==v)return void(t[n]=d[p]);var g=t[n],m=f?f(g,v,n,t,e):void 0,y=void 0===m;y&&(m=v,a(v)&&(s(v)||c(v))?m=s(g)?g:a(g)?i(g):[]:u(v)||o(v)?m=o(g)?l(g):u(g)?g:{}:y=!1),h.push(v),d.push(m),y?t[n]=r(m,v,f,h,d):(m===m?m!==g:g===g)&&(t[n]=m)}var i=n(15),o=n(16),s=n(22),a=n(17),u=n(27),c=n(34),l=n(35);t.exports=r},function(t,e){function n(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}t.exports=n},function(t,e,n){function r(t){return o(t)&&i(t)&&a.call(t,"callee")&&!u.call(t,"callee")}var i=n(17),o=n(21),s=Object.prototype,a=s.hasOwnProperty,u=s.propertyIsEnumerable;t.exports=r},function(t,e,n){function r(t){return null!=t&&o(i(t))}var i=n(18),o=n(20);t.exports=r},function(t,e,n){var r=n(19),i=r("length");t.exports=i},function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}t.exports=n},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;t.exports=n},function(t,e){function n(t){return!!t&&"object"==typeof t}t.exports=n},function(t,e,n){var r=n(23),i=n(20),o=n(21),s="[object Array]",a=Object.prototype,u=a.toString,c=r(Array,"isArray"),l=c||function(t){return o(t)&&i(t.length)&&u.call(t)==s};t.exports=l},function(t,e,n){function r(t,e){var n=null==t?void 0:t[e];return i(n)?n:void 0}var i=n(24);t.exports=r},function(t,e,n){function r(t){return null!=t&&(i(t)?l.test(u.call(t)):o(t)&&s.test(t))}var i=n(25),o=n(21),s=/^\[object .+?Constructor\]$/,a=Object.prototype,u=Function.prototype.toString,c=a.hasOwnProperty,l=RegExp("^"+u.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e,n){function r(t){return i(t)&&a.call(t)==o}var i=n(26),o="[object Function]",s=Object.prototype,a=s.toString;t.exports=r},function(t,e){function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){function r(t){var e;if(!s(t)||l.call(t)!=a||o(t)||!c.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var n;return i(t,function(t,e){n=e}),void 0===n||c.call(t,n)}var i=n(28),o=n(16),s=n(21),a="[object Object]",u=Object.prototype,c=u.hasOwnProperty,l=u.toString;t.exports=r},function(t,e,n){function r(t,e){return i(t,e,o)}var i=n(29),o=n(32);t.exports=r},function(t,e,n){var r=n(30),i=r();t.exports=i},function(t,e,n){function r(t){return function(e,n,r){for(var o=i(e),s=r(e),a=s.length,u=t?a:-1;t?u--:++u<a;){var c=s[u];if(n(o[c],c,o)===!1)break}return e}}var i=n(31);t.exports=r},function(t,e,n){function r(t){return i(t)?t:Object(t)}var i=n(26);t.exports=r},function(t,e,n){function r(t){if(null==t)return[];u(t)||(t=Object(t));var e=t.length;e=e&&a(e)&&(o(t)||i(t))&&e||0;for(var n=t.constructor,r=-1,c="function"==typeof n&&n.prototype===t,f=Array(e),h=e>0;++r<e;)f[r]=r+"";for(var d in t)h&&s(d,e)||"constructor"==d&&(c||!l.call(t,d))||f.push(d);return f}var i=n(16),o=n(22),s=n(33),a=n(20),u=n(26),c=Object.prototype,l=c.hasOwnProperty;t.exports=r},function(t,e){function n(t,e){return t="number"==typeof t||r.test(t)?+t:-1,e=null==e?i:e,t>-1&&t%1==0&&t<e}var r=/^\d+$/,i=9007199254740991;t.exports=n},function(t,e,n){function r(t){return o(t)&&i(t.length)&&!!C[S.call(t)]}var i=n(20),o=n(21),s="[object Arguments]",a="[object Array]",u="[object Boolean]",c="[object Date]",l="[object Error]",f="[object Function]",h="[object Map]",d="[object Number]",p="[object Object]",v="[object RegExp]",g="[object Set]",m="[object String]",y="[object WeakMap]",_="[object ArrayBuffer]",b="[object Float32Array]",x="[object Float64Array]",E="[object Int8Array]",k="[object Int16Array]",w="[object Int32Array]",O="[object Uint8Array]",A="[object Uint8ClampedArray]",T="[object Uint16Array]",j="[object Uint32Array]",C={};C[b]=C[x]=C[E]=C[k]=C[w]=C[O]=C[A]=C[T]=C[j]=!0,C[s]=C[a]=C[_]=C[u]=C[c]=C[l]=C[f]=C[h]=C[d]=C[p]=C[v]=C[g]=C[m]=C[y]=!1;var I=Object.prototype,S=I.toString;t.exports=r},function(t,e,n){function r(t){return i(t,o(t))}var i=n(36),o=n(32);t.exports=r},function(t,e){function n(t,e,n){n||(n={});for(var r=-1,i=e.length;++r<i;){var o=e[r];n[o]=t[o]}return n}t.exports=n},function(t,e,n){var r=n(23),i=n(17),o=n(26),s=n(38),a=r(Object,"keys"),u=a?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&i(t)?s(t):o(t)?a(t):[]}:s;t.exports=u},function(t,e,n){function r(t){for(var e=u(t),n=e.length,r=n&&t.length,c=!!r&&a(r)&&(o(t)||i(t)),f=-1,h=[];++f<n;){var d=e[f];(c&&s(d,r)||l.call(t,d))&&h.push(d)}return h}var i=n(16),o=n(22),s=n(33),a=n(20),u=n(32),c=Object.prototype,l=c.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){return s(function(e,n){var r=-1,s=null==e?0:n.length,a=s>2?n[s-2]:void 0,u=s>2?n[2]:void 0,c=s>1?n[s-1]:void 0;for("function"==typeof a?(a=i(a,c,5),s-=2):(a="function"==typeof c?c:void 0,s-=a?1:0),u&&o(n[0],n[1],u)&&(a=s<3?void 0:a,s=1);++r<s;){var l=n[r];l&&t(e,l,a)}return e})}var i=n(40),o=n(42),s=n(43);t.exports=r},function(t,e,n){function r(t,e,n){if("function"!=typeof t)return i;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,s){return t.call(e,n,r,i,o,s)}}return function(){return t.apply(e,arguments)}}var i=n(41);t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function r(t,e,n){if(!s(n))return!1;var r=typeof e;if("number"==r?i(n)&&o(e,n.length):"string"==r&&e in n){var a=n[e];return t===t?t===a:a!==a}return!1}var i=n(17),o=n(33),s=n(26);t.exports=r},function(t,e){function n(t,e){if("function"!=typeof t)throw new TypeError(r);return e=i(void 0===e?t.length-1:+e||0,0),function(){for(var n=arguments,r=-1,o=i(n.length-e,0),s=Array(o);++r<o;)s[r]=n[e+r];switch(e){case 0:return t.call(this,s);case 1:return t.call(this,n[0],s);case 2:return t.call(this,n[0],n[1],s)}var a=Array(e+1);for(r=-1;++r<e;)a[r]=n[r];return a[e]=s,t.apply(this,a)}}var r="Expected a function",i=Math.max;t.exports=n},function(t,e,n){(function(e){"use strict";var r=n(8),i=n(45),o=n(46),s="undefined"==typeof window?e:window,a=":default",u="_chrome-nano_",c=function(){this.set(u,!0)};c.prototype={get:function(t,e){var n=this.restore(t);return"undefined"==typeof n&&(n=this.restore(t+a)),r.isDefined(n)?this.processValue(n):e},set:function(t,e){var n={name:t,value:e};this._triggerEvent(o.PREFERENCE_SET,n),this.restore(t)!==JSON.stringify(e)&&(this.store(t,JSON.stringify(e)),this._triggerEvent(o.PREFERENCE_CHANGED,n))},remove:function(t){this.set(t,void 0)},weakSet:function(t,e){this.get(t)||this.set(t,e)},store:function(t,e){return"undefined"!=typeof e?s.localStorage.setItem(t,e):s.localStorage.removeItem(t),e},restore:function(t){if(t in s.localStorage)return s.localStorage.getItem(t)},defaults:function(t){var e;"string"==typeof t?(e={},e[arguments[0]]=arguments[1]):e=t,Object.keys(e).forEach(function(t){this.restore(t+a)||this.set(t+a,e[t])}.bind(this))},dump:function(t){Object.keys(t).forEach(function(e){this.set(e,t[e])}.bind(this))},names:function(){return Object.keys(s.localStorage)},migrate:function(t,e,n){var r=this.get(t);n&&"type"in n&&typeof r!==n.type||(r=e.call(this,r),this.set(t,r))},restoreDefaults:function(){var t=this,e=this.names();e.forEach(function(e){t._restore(e)})},getDefault:function(t){var e=this.restore(t+a);return r.isDefined(e)?this.processValue(e):void 0},setDefault:function(t,e){this.store(t+a,e)},processValue:function(t){try{return JSON.parse(t)}catch(e){}return t},_restore:function(t){var e=this._getClearKey(t);if(e){var n=this.get(e),r=this.get(t),i={name:e,value:r};this.store(e),this._triggerEvent(o.PREFERENCE_SET,i),r!==n&&this._triggerEvent(o.PREFERENCE_CHANGED,i)}},_getClearKey:function(t){var e=t.indexOf(a);return e>=0&&e===t.length-a.length?t.substr(0,e):null},_triggerEvent:function(t,e){i.trigger(t,e)}},t.exports=new c}).call(e,function(){return this}())},function(t,e){"use strict";t.exports={events:{},trigger:function(t,e){var n=[];this.events[t]&&(this.events[t]=this.events[t].filter(function(t){return n.push(t),!t.once}),n.forEach(function(t){t.handler.call(t.ctx,e)}))},on:function(t,e,n,r){this.events[t]||(this.events[t]=[]),this.events[t].push({type:t,handler:e,ctx:n||null,once:Boolean(r)})},once:function(t,e,n){this.on(t,e,n,!0)},off:function(t,e){this.events[t]&&(this.events[t]=this.events[t].filter(function(n){return n.type!==t||n.handler!==e}))},ignoreEvent:function(t){this.events[t]&&(this.events[t]=this.events[t].filter(function(e){return t!==e.type}))},hasListener:function(t,e){return!!this.events[t]&&this.events[t].some(function(n){return n.type===t&&n.handler===e})},willTrigger:function(t){return Boolean(this.events[t])&&this.events[t].length>0},flush:function(){this.events={}}}},function(t,e){"use strict";t.exports={NOTIFICATION_SHOW:"notification.show",STAT_TAKE_PRODUCT:"yandex.statistics.take-product",STAT_GIVE_PRODUCT:"yandex.statistics.give-product",PREFERENCE_CHANGED:"wdgt.preferences.changed",PREFERENCE_SET:"wdgt.preferences.setted",ONLINE:"user.online",OFFLINE:"user.offline",ELECTION_COMPLETED:"wdgt.primary.select",SOFT_EXPORT_READY:"yandex.statistics.ready",SOFT_EXPORT_TICK:"statistics.tick",HELLO:"application.hello",CLICKER:"application.send.clicker",SHARED_DATA_SET:"application.shared.data.set"}},function(t,e,n){"use strict";t.exports={Request:n(48),Response:n(49),ResponseTypes:n(51),HttpMethods:n(52),ContentTypes:n(50)}},function(t,e,n){"use strict";var r=n(49),i=n(51),o=n(52),s=n(50),a=function(){},u=function(t){return"function"==typeof t},c=function(t){return"object"==typeof t&&!Array.isArray(t)&&null!==t},l=function(t){return"string"==typeof t},f=function(){this._xhr=null,this._formData=null,this._headers={},this._params={},this._data={},this._url="",this._responseType=i.DEFAULT,this._queryTimeout=25e3,this._withCredentials=!1,this._method=o.GET,this._requestType=s.json,this._callback=a,this._onProgress=a(),this._onUploadProgress=a(),this._onUpload=a(),this._timeoutId=0};f.prototype={set:function(t,e){return this._headers[t]=e,this},type:function(t){return this.set("Content-Type",s[t]||t),this._requestType=t,this},params:function(t){return this._params=t,this},data:function(t){return this._data=t,this},noCache:function(){return this.set("If-Modified-Since","Sat, 1 Jan 2005 00:00:00 GMT"),this},auth:function(t,e){var n=window.btoa(t+":"+e);return this.set("Authorization","Basic "+n),this},oauth:function(t){return this.set("Authorization","OAuth {token}".replace("{token}",t)),this},setMethod:function(t){return this._method=t,this},timeout:function(t){return this._queryTimeout=t,this},withCredentials:function(){return this._withCredentials=!0,this},setUrl:function(t){return l(t)&&(this._url=t),this},field:function(t,e){return this._formData||(this._formData=new FormData),this._formData.append(t,e),this},blob:function(t){return this._formData=t,this},responseType:function(t){return this._responseType=t,this},onProgress:function(t){return u(t)&&(this._onProgress=t),this},onUploadProgress:function(t){return u(t)&&(this._onUploadProgress=t),this},onUpload:function(t){return u(t)&&(this._onUpload=t),this},abort:function(){return this._xhr&&this._xhr.readyState<4&&this._xhr.abort(),this},serialize:function(t){if(!c(t))return t;var e=[];return Object.keys(t).forEach(function(n){e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]))}),e.join("&")},deserialize:function(t){var e,n,r={},i=/^https?.+\?(.+)/i;return l(t)&&t.length>0&&(e=t.replace(i,"$1").split("&")),e&&e.length>0&&e.forEach(function(t){n=t.split("="),r[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}),r},get:function(t,e){return this.setMethod(o.GET).setUrl(t).send(e)},post:function(t,e){return this.type(s.urlencoded).setMethod(o.POST).setUrl(t).send(e)},put:function(t,e){return this.setUrl(t).setMethod(o.PUT).send(e)},send:function(t){var e=this._createUrl(),n=this._createBody();return this._createRequest(),this._setCompleteHandler(t),this._bindEvents(),this._setupTimeout(),this._openRequest(e),this._sendRequest(n),this},_createRequest:function(){this._xhr=new XMLHttpRequest},_setCompleteHandler:function(t){u(t)&&(this._callback=t)},_createUrl:function(){var t=this._url,e=this.query,n=this._url.indexOf("?")>0?"&":"?";return e&&(t=this._url+n+e),t},_createBody:function(){return this._formData||this.serialize(this._data)},_bindEvents:function(){this._bindCompleteEvents(),this._bindProgressEvents(),this._bindUploadEvent(),this._bindAbortEvent()},_bindCompleteEvents:function(){var t=this._onRequestComplete.bind(this);this._xhr.onload=t,this._xhr.onerror=t},_bindProgressEvents:function(){this._xhr.onprogress=this._onProgress,this._xhr.upload.onprogress=this._onUploadProgress},_bindUploadEvent:function(){this._xhr.upload.onload=this._onUpload},_bindAbortEvent:function(){var t=this;this.xhr.onabort=function(){t.aborted=!0,t._onRequestComplete()}},_setupTimeout:function(){var t=this;this._queryTimeout>0&&(this._timeoutId=setTimeout(function(){t.xhr.abort(),t.timeoutExpired=!0},this._queryTimeout))},_openRequest:function(t){this._xhr.responseType=this._responseType,this._xhr.open(this._method,t,!0),this._applyHeaders(),this._applyCredentials()},_applyHeaders:function(){Object.keys(this._headers).forEach(function(t){this.xhr.setRequestHeader(t,this._headers[t])},this)},_applyCredentials:function(){if(this._withCredentials)try{this.xhr.withCredentials=!0}catch(t){}},_sendRequest:function(t){this._xhr.send(t)},_onRequestComplete:function(){clearTimeout(this._timeoutId),this._callback.call(this,new r(this))},get status(){return this._xhr.status},get responseHeaders(){return this._xhr.getAllResponseHeaders()},get query(){return this.serialize(this._params)},get method(){return this._method},get requestType(){return this._requestType},get xhr(){return this._xhr}},t.exports=f},function(t,e,n){"use strict";var r=n(50),i=function(t){this.request=t,this.status=t.xhr.status,this.headers={},this._setHeaders(),this._setStatus()};i.prototype={_setHeaders:function(){this.headers=this._parseHeaders(this.request.xhr.getAllResponseHeaders()),this.headers["content-type"]=this.request.xhr.getResponseHeader("content-type")},_parseHeaders:function(t){var e,n,r,i=t.split(/\r?\n/),o={},s=i[i.length-1];return s.length<3&&i.pop(),i.forEach(function(t){e=t.indexOf(":"),n=t.slice(0,e).toLowerCase(),r=t.slice(e+1).trim(),o[n]=r}),o},_setStatus:function(){this._setCommonStatus(),this._setDetailStatus()},_setCommonStatus:function(){var t=Math.floor(this.status/100)||0;this.aborted=Boolean(this.request.aborted),this.timeout=Boolean(this.request.timeoutExpired),this.info=1===t,this.ok=2===t,this.clientError=4===t,this.serverError=5===t,this.error=4===t||5===t,this.success=this.status>=200&&this.status<300},_setDetailStatus:function(){this.created=201===this.status,this.accepted=202===this.status,this.noContent=204===this.status,this.badRequest=400===this.status,this.unauthorized=401===this.status,this.forbidden=403===this.status,this.notFound=404===this.status,this.notAcceptable=406===this.status,this.toManyRequests=429===this.status},get contentType(){var t=this.headers["content-type"]||"",e="";return Object.keys(r).forEach(function(n){t===r[n]&&(e=r[n])}),e},get json(){try{return JSON.parse(this.request.xhr.responseText)}catch(t){}return{}},get xml(){return this.request.xhr.responseXML},get data(){return this.contentType===r.json?this.json:this.contentType===r.xml?this.xml:this.request.xhr.responseText},get response(){return this.request.xhr.response}},t.exports=i},function(t,e){"use strict";t.exports={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded"}},function(t,e){"use strict";t.exports={DEFAULT:"",JSON:"json",ARRAY_BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",TEXT:"document"}},function(t,e){"use strict";t.exports={GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",HEAD:"HEAD",PATCH:"PATCH"}},function(t,e,n){"use strict";var r,i,o,s,a=n(54),u=n(44),c=n(55),l=n(8),f="application.version",h=c.create("Platform"),d=function(){r=chrome.runtime.getManifest(),this.updateStatus(),h.log("App status: %s",i),h.log("App version: %s",this.appInfo.version)};d.prototype={REFRESH:"refresh",INSTALL:"install",UPGRADE:"upgrade",UPGRADE_MAJOR:"major",UPGRADE_MINOR:"minor",UPGRADE_PATCH:"patch",WIN_PLATFORM:"winnt",MAC_PLATFORM:"darwin",name:"chrome",updateStatus:function(){var t=u.get(f),e=this.appInfo.version;t?(t!==e?(i=this.UPGRADE,s=t,o=this._getUpgradeStatus(e,t)):i=this.REFRESH,this.appInfo.previousVersion=t):i=this.INSTALL,u.set(f,e)},isBackgroundProcess:function(){return this.backgroundProcess===window},uninstall:function(t,e){a.isYabrowser()||(window.alert(t),chrome.management.uninstall(this.id,{showConfirmDialog:!1},e))},setUninstallUrl:function(t){var e=!1;return"function"==typeof chrome.runtime.setUninstallUrl&&(chrome.runtime.setUninstallUrl(t),e=!0),e},onUninstall:function(t){chrome.management.onUninstalled.addListener(t)},isWindows:function(){return this.platform===this.WIN_PLATFORM},isMac:function(){return this.platform===this.MAC_PLATFORM},get isInstall(){return this.status===this.INSTALL},get isUpgrade(){return this.status===this.UPGRADE},get isUpgradeMajor(){return this.upgradeStatus===this.UPGRADE_MAJOR},get isUpgradeMinor(){return this.upgradeStatus===this.UPGRADE_MINOR},get isUpgradePatch(){return this.upgradeStatus===this.UPGRADE_PATCH},get upgradedVersion(){return s},get upgradedMajMinVersion(){return s&&l.getMajMinVersion(s)},get majMinVersion(){return l.getMajMinVersion(this.appInfo.version)},get isRefresh(){return this.status===this.REFRESH},get appInfo(){return r},get baseUri(){return chrome.extension.getURL("/")},get id(){return chrome.runtime.id},get backgroundProcess(){return chrome.extension.getBackgroundPage()},get versionKey(){return f},get status(){return i},get upgradeStatus(){return o},get platform(){var t=window.navigator.platform;return t.toLowerCase().indexOf("win")>=0&&(t=this.WIN_PLATFORM),t.toLowerCase().indexOf("mac")>=0&&(t=this.MAC_PLATFORM),t},get yasoftPostfix(){return a.isOpera()?"_opr":a.isYabrowser()?"_ybr":a.isChrome()?"_chr":"_oth"},_getUpgradeStatus:function(t,e){var n=t.split("."),r=e.split(".");return n[0]!==r[0]?this.UPGRADE_MAJOR:n[1]!==r[1]?this.UPGRADE_MINOR:n[2]!==r[2]?this.UPGRADE_PATCH:""}},t.exports=new d},function(t,e,n){"use strict";var r=n(45),i=n(46),o={newTabUrls:["https://www.google.ru/_/chrome/newtab","chrome://newtab/"],CHROME:"chrome",YABROWSER:"yabrowser",OPERA:"opera",CHROMIUM:"chromium",FIREFOX:"firefox",ONLINE:"online",OFFLINE:"offline",CURRENT_TAB:"current tab",NEW_TAB:"new tab",NEW_WINDOW:"new window",NEW_POPUP:"new popup",BROWSER_OPEN_CHECK_TIME:1e4,run:function(){window.addEventListener("online",this._onLineHandler.bind(this)),window.addEventListener("offline",this._offlineHandler.bind(this))},isChrome:function(){return this._isChrome()&&!this.isOpera()&&!this.isYabrowser()},isYabrowser:function(){var t=window.navigator.appVersion;return/YaBrowser/.test(t)},isFirefox:function(){var t=window.navigator.userAgent;return/Gecko\/[\d.]* Firefox\/[\d.]*/.test(t)},isOpera:function(){var t=window.navigator.appVersion;return/OPR\//.test(t)},getBrowser:function(){return this.isFirefox()?this.FIREFOX:this.isOpera()?this.OPERA:this.isYabrowser()?this.YABROWSER:this.isChrome()?this.CHROME:this.CHROMIUM},whenBrowserContextAvailable:function(t){return chrome.cookies?void chrome.cookies.getAll({domain:"ya.ru",name:"test",path:"/"},function(){chrome.runtime.lastError?setTimeout(this.whenBrowserContextAvailable.bind(this,t),this.BROWSER_OPEN_CHECK_TIME):t()}.bind(this)):setTimeout(t,this.BROWSER_OPEN_CHECK_TIME)},getChromeVersion:function(){var t=window.navigator.appVersion.match(/Chrome\/(\d+)\./);return t&&t.length>=1?parseInt(t[1],10):0},getOperaVersion:function(){var t=window.navigator.appVersion.match(/OPR\/(\d+)\./);return t&&t.length>=1?parseInt(t[1],10):0},navigate:function(t,e){switch(e=e||this.NEW_TAB){case this.CURRENT_TAB:chrome.tabs.update({url:t,active:!0},function(t){chrome.windows.update(t.windowId,{focused:!0})});break;case this.NEW_TAB:chrome.tabs.create({url:t,active:!0},function(t){chrome.windows.update(t.windowId,{focused:!0})});break;case this.NEW_WINDOW:
chrome.windows.create({url:t,focused:!0,type:"normal"});break;case this.NEW_POPUP:chrome.windows.create({url:t,focused:!0,type:"popup"})}},navigateToSettings:function(){var t="chrome-extension://"+chrome.runtime.id+"/options/options.html";this.navigate(t)},openSettings:function(){this.navigate(chrome.extension.getURL("/options/options.html"),"new tab")},createTab:function(t,e){chrome.tabs.create(t,e)},getTab:function(t,e){chrome.tabs.get(t,e)},getCurrentTab:function(t){chrome.tabs.query({active:!0,url:"<all_urls>"},function(e){t(e?e[0]:null)})},reloadTab:function(t){chrome.tabs.reload(t)},isNewTab:function(t){return this.newTabUrls.some(function(e){return t.indexOf(e)>-1})},sendMessage:function(t,e){chrome.tabs.sendMessage(t,e)},removeTab:function(t,e){return chrome.tabs.remove(t,e)},openWindow:function(t,e){chrome.windows.create(t,e)},closeWindow:function(t){chrome.windows.remove(t)},get version(){return this.getChromeVersion()},get incognito(){return Boolean(chrome.extension.inIncognitoContext)},_onLineHandler:function(){this._triggerEvent(i.ONLINE)},_offlineHandler:function(){this._triggerEvent(i.OFFLINE)},_isChrome:function(){var t=window.navigator.vendor,e=window.navigator.userAgent;return/Google Inc/.test(t)&&/Chrome/.test(e)&&!/MRCHROME|Comodo/.test(e)},_triggerEvent:function(t){r.trigger(t)},get status(){return window.navigator.onLine?this.ONLINE:this.OFFLINE}};o.run(),t.exports=o},function(t,e,n){"use strict";function r(){window.addEventListener("error",i),window.addEventListener("unhandledrejection",o)}function i(t){var e=s(t,!1);f.error("%l",e)}function o(t){var e=s(t,!0);f.error("%l",e)}function s(t,e){var n=e?t.reason:t.error,r=!n||!n.stack;return e&&r?"unhandled promise rejection: "+a(n):e&&!r?"unhandled promise rejection: "+t.reason.stack:!e&&r?"unhandled exception from "+t.filename+": line: "+t.lineno+", column: "+t.colno+", error: "+a(n):"unhandled exception from "+t.filename+": line: "+t.lineno+", column: "+t.colno+", message: "+n.message}function a(t){try{return JSON.stringify(t)}catch(e){return String(t)}}var u=n(56),c=n(70),l={methods:c.methods,writers:c.writers,formatters:c.formatters,levels:c.levels},f=new u.Logger("core",l);f.create=f.clone.bind(f),r(),t.exports=f},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(57),s=i(o),a=n(59),u=i(a),c=n(60),l=i(c),f=n(61),h=i(f),d=n(63),p=i(d),v=n(64),g=i(v),m=n(65),y=i(m),_=n(66),b=i(_),x=n(67),E=i(x),k=n(68),w=i(k),O=n(69),A=i(O),T=n(62),j=i(T),C=n(58),I=r(C),S=I.combineFormatters;e.Logger=s["default"],e.Replacer=u["default"],e.WebFile=j["default"],e.createConsoleWriter=l["default"],e.createWebFileWriter=h["default"],e.createDateFormatter=p["default"],e.createMethodFormatter=g["default"],e.createPrefixFormatter=y["default"],e.createPlaceholdersFormatter=b["default"],e.createNormalFormatter=E["default"],e.createJoinFormatter=w["default"],e.createJoinFirstFormatter=A["default"],e.combineFormatters=S,e.utils=I},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){return!Array.isArray(e)||e.indexOf(t)!==-1}function o(t){if(!t)throw new Error('You must specify "options" parameter for Logger');u.forEach(function(e){if(void 0===t[e])throw new Error('You must specify "options.'+e+'" parameter for Logger')})}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(58),u=["levels","writers","formatters","methods"],c=function(){function t(e,n){r(this,t),o(n),this._clones=[],this._prefix=e,this._opt=n,this._createMethods(this._opt.methods)}return s(t,[{key:"clone",value:function e(t){var e=this.fork(t);return this._clones.push(e),e}},{key:"fork",value:function(e){var n=this.constructor?this.constructor:t;return new n(e,(0,a.shallowCopyObject)(this._opt))}},{key:"message",value:function(t){for(var e=this,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];this._forEachWriter(function(n,o,s,a){i(t,a)&&o(t,e._prefix,s?s(t,e._prefix,r.slice()):r)})}},{key:"setLevels",value:function(t,e){this._opt.levels[t]=e,this._updateClones("setLevels",t,e)}},{key:"addWriter",value:function(t,e){this._opt.writers[t]=e,this._updateClones("addWriter",t,e)}},{key:"removeWriter",value:function(t){this._opt.writers[t]&&delete this._opt.writers[t],this._updateClones("removeWriter",t)}},{key:"addFormatter",value:function(t,e){this._opt.formatters[t]=e,this._updateClones("addFormatter",t,e)}},{key:"removeFormatter",value:function(t){this._opt.formatters[t]&&delete this._opt.formatters[t],this._updateClones("removeFormatter",t)}},{key:"_createMethods",value:function(t){var e=this;t.forEach(function(t){e[t]=e.message.bind(e,t)})}},{key:"_forEachWriter",value:function(t){var e=this;Object.keys(this._opt.writers).forEach(function(n){t(n,e._opt.writers[n],e._opt.formatters[n],e._opt.levels[n])})}},{key:"_updateClones",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this._clones.forEach(function(e){e[t].apply(e,n)})}}]),t}();e["default"]=c,t.exports=e["default"]},function(t,e){"use strict";function n(t,e){return"string"==typeof e[0]?[t.replace(e[0],e.slice(1))]:e}function r(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return Array.isArray(r)?e[n]=r.slice():"function"==typeof r?e[n]=r.bind(t):"object"==typeof r?e[n]=Object.assign({},r):e[n]=r,e},{})}function i(t){var e=arguments.length<=1||void 0===arguments[1]?" ":arguments[1];return 0===t.length?"undefined":t.map(function(t){return void 0===t?"undefined":"string"==typeof t?t:o(t)}).join(e)}function o(t){try{return JSON.stringify(t)}catch(e){return String(t)}}function s(t){return function(e,n,r){return t.reduce(function(t,r){return r(e,n,t)},r)}}function a(t){return t}Object.defineProperty(e,"__esModule",{value:!0}),e.replacePlaceholders=n,e.shallowCopyObject=r,e.toString=i,e.combineFormatters=s,e.identity=a},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){return{o:u,j:u,s:i,l:o.bind(null,t.limitStringLength),i:s.bind(null,t.nanString),d:s.bind(null,t.nanString),f:a.bind(null,t.nanString),"%":function(){return"%"}}}function i(t){return String(t)}function o(t,e){return String(e).substr(0,t)}function s(t,e){return"number"==typeof e?String(Math.floor(e)):t}function a(t,e){return"number"==typeof e?String(Number(e)):t}function u(t){try{return JSON.stringify(t||"",null,1)}catch(e){return String(e)}}Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=/%(.)/gm,f={limitStringLength:300,nanString:"NaN"},h=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];n(this,t),e=Object.assign({},f,e),this._formats=e.formats||r(e),this._limitStringLength=e.limitStringLength,this._nanString=e.nanString,this._regExp=l}return c(t,[{key:"replace",value:function(t,e){var n=this,r=-1;return t.replace(this._regExp,function(t,i){return r+=1,n._formatItem(i,e[r])})}},{key:"addPlaceholder",value:function(t,e){this._formats[t]=e}},{key:"removePlaceholder",value:function(t){this._formats[t]&&delete this._formats[t]}},{key:"_formatItem",value:function(t,e){var n=this._formats[t];return n?n(e):"%"+t}}]),t}();e["default"]=h,t.exports=e["default"]},function(t,e){"use strict";function n(){var t=Function.prototype.apply,e=console?console:{};return function(n,r,i){e[n]&&t.call(e[n],e,i)}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){var n=t||new s["default"](e);return function(t,e,r){n.push(r[0])}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var o=n(62),s=r(o);t.exports=e["default"]},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e){n(this,t),this._fileName=e.fileName,this._oldFileName=e.oldFileName,this._maxSize=e.maxSize,this._messagesQueue=[],this._isRunning=!1,this._fsLink=null}return r(t,[{key:"push",value:function(t){this._messagesQueue.push(t),this._isRunning||(this._isRunning=!0,this._writeAttempt())}},{key:"_writeAttempt",value:function(){var t=this;this._requestFile(function(e,n,r){r.onwriteend=t._onWriteEnd.bind(t),r.length>t._maxSize?t._rotateLogs(e,n,r):(t._appendQueueData(r),t._messagesQueue=[])})}},{key:"_onWriteEnd",value:function(){this._messagesQueue.length?this._writeAttempt():this._isRunning=!1}},{key:"_requestFile",value:function(t){var e=this;this._requestFileSystem(function(n){return e._requestFileWriter(n,t)})}},{key:"_requestFileSystem",value:function(t){if(this._fsLink)return void t(this._fsLink);try{var e=window.requestFileSystem||window.webkitRequestFileSystem;e(window.PERSISTENT,0,t)}catch(n){}}},{key:"_requestFileWriter",value:function(t,e){t.root.getFile(this._fileName,{create:!0,exclusive:!1},function(n){return n.createWriter(function(r){return e(t,n,r)})})}},{key:"_rotateLogs",value:function(t,e,n){this._copy(t.root,e,this._oldFileName,function(){return n.truncate(0)})}},{key:"_copy",value:function(t,e,n,r){e.copyTo(t,n,function(t){return r(null,t)},function(t){return r(t)})}},{key:"_appendQueueData",value:function(t){t.seek(t.length),t.write(new Blob(["\n"+this._messagesQueue.join("\n")],{type:"text/plain"}))}}]),t}();e["default"]=i,t.exports=e["default"]},function(t,e){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(){var t=arguments.length<=0||void 0===arguments[0]?i:arguments[0];return function(e,r,i){return[t()].concat(n(i))}}function i(){var t=6e4*(new Date).getTimezoneOffset(),e=new Date(Date.now()-t);return e.toISOString().slice(0,-1)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(){var t=arguments.length<=0||void 0===arguments[0]?o.identity:arguments[0];return function(e,n,i){return[t(e)].concat(r(i))}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var o=n(58);t.exports=e["default"]},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(){var t=arguments.length<=0||void 0===arguments[0]?o.identity:arguments[0];return function(e,n,i){return[t(n)].concat(r(i))}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var o=n(58);t.exports=e["default"]},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(){var t=arguments.length<=0||void 0===arguments[0]?new a["default"]:arguments[0];return function(e,n,r){return c.replacePlaceholders(t,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var s=n(59),a=i(s),u=n(58),c=r(u);t.exports=e["default"]},function(t,e){"use strict";function n(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=r(t);return function(t,n,r){return i(r,e)}}function r(t){return Object.keys(t).map(function(e){return{normalPlaceholder:t[e],regExp:new RegExp("%"+e,"g")}})}function i(t,e){return"string"==typeof t[0]&&e.forEach(function(e){t[0]=t[0].replace(e.regExp,"%"+e.normalPlaceholder)}),t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return function(e,n,r){return[(0,i.toString)(r,t)]}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r;var i=n(58);t.exports=e["default"]},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){return function(n,i,s){return[(0,o.toString)(s.slice(0,t),e)].concat(r(s.slice(t)))}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var o=n(58);t.exports=e["default"]},function(t,e,n){"use strict";var r=n(56),i=n(71),o=["log","info","warn","error"],s={},a={},u={},c=new r.WebFile({fileName:"debug.log",oldFileName:"debug-old.log",maxSize:5242880});s.platform=r.createWebFileWriter(c),a.platform=i.fileFormatter,u.platform=["log","info","warn","error"],t.exports={methods:o,writers:s,formatters:a,levels:u}},function(t,e,n){"use strict";function r(t){return t?t.toUpperCase():""}function i(t){return t?t.toLowerCase():""}var o=n(56),s=o.createNormalFormatter({j:"o",l:"s"}),a=function(t){return"["+t.toLowerCase()+"]"};t.exports={toUpperCase:r,toLowerCase:i,normalizePlaceholders:s,consoleFormatter:o.combineFormatters([s,o.createPrefixFormatter(a),o.createJoinFirstFormatter(2)]),fileFormatter:o.combineFormatters([o.createPlaceholdersFormatter(),o.createPrefixFormatter(a),o.createMethodFormatter(r),o.createDateFormatter(),o.createJoinFormatter()]),metrikaFormatter:o.combineFormatters([o.createPlaceholdersFormatter(),o.createPrefixFormatter(a),o.createJoinFormatter()])}},function(t,e,n){"use strict";var r=n(73),i=n(77);t.exports={id:n(78).branding,YANDEX:"yandex",TURKEY:"tb",UKRAINE:"ua",KAZAKHSTAN:"kz",BELARUS:"by",BRANDS:["yandex","tb","ua"],tldMap:{ru:"ru",uk:"ua",tr:"com.tr",kz:"kz",by:"by"},brandedTldMap:{yandex:"ru",ua:"ua",tb:"com.tr",kz:"kz",by:"by"},get:function(){return this.isTurkish()?this.TURKEY:this.isYandex()?this.YANDEX:this.isUkraine()?this.UKRAINE:this.isKazakhstan()?this.KAZAKHSTAN:this.isBelarus()?this.BELARUS:this.id},data:function(t){return r(i,t)},url:function(t){var e=this.data(t);return"string"==typeof e?e.replace("{tld}",this.tld):e},isTurkish:function(){return this.id===this.TURKEY||/^tb_.*/i.test(this.id)},isUkraine:function(){return this.id===this.UKRAINE||/^ua_.*/i.test(this.id)},isYandex:function(){return this.id===this.YANDEX||/^(ya_)|(yandex_).*/i.test(this.id)},isKazakhstan:function(){return this.id===this.KAZAKHSTAN||/^kz_.*/i.test(this.id)},isBelarus:function(){return this.id===this.BELARUS||/^by_.*/i.test(this.id)},get tld(){var t=chrome.i18n.getMessage("locale");return this.tldMap[t]?this.tldMap[t]:this.tldMap.ru},get brandedTld(){var t=this.get();return this.brandedTldMap[t]||this.brandedTldMap[this.YANDEX]},get portal(){return this.url("portal.http-url")}}},function(t,e,n){function r(t,e,n){var r=null==t?void 0:i(t,o(e),e+"");return void 0===r?n:r}var i=n(74),o=n(75);t.exports=r},function(t,e,n){function r(t,e,n){if(null!=t){void 0!==n&&n in i(t)&&(e=[n]);for(var r=0,o=e.length;null!=t&&r<o;)t=t[e[r++]];return r&&r==o?t:void 0}}var i=n(31);t.exports=r},function(t,e,n){function r(t){if(o(t))return t;var e=[];return i(t).replace(s,function(t,n,r,i){e.push(r?i.replace(a,"$1"):n||t)}),e}var i=n(76),o=n(22),s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,a=/\\(\\)?/g;t.exports=r},function(t,e){function n(t){return null==t?"":t+""}t.exports=n},function(t,e){t.exports={portal:{"http-url":"http://yandex.ru","https-url":"https://yandex.ru"},license:{url:"https://yandex.ru/legal/desktop_software_agreement/"},support:{url:"https://yandex.ru/support/element/troubleshooting.xml"},clicker:{url:"https://yandex.ru/clck/click/dtype=stred/pid={pid}/cid={cid}/path={path}{vars}/*"},"dayuse-stat":{url:"https://yandex.ru/clck/click/dtype=elduse/path=tech.yaelements.dayuse/vars={vars}/slots={slots}/*"},"soft-export":{url:"https://soft.export.yandex.ru/status.xml"},homepage:{url:"http://element.yandex.ru/chrome"},developer:{name:"ООО «ЯНДЕКС»",url:"http://yandex.ru"},goodbye:{url:"https://yandex.ru/soft/extensions/goodbye"},soft:{url:"http://soft.yandex.ru/?from=el_sett"}}},function(t,e){t.exports={date:1545132790,build:"61",sha:"cb9b34",distribution:"portal",branding:"yandex",version:"8.24.1",clid:{1:"2224312",5:"2224313",6:"2224314",10:"2224315"},vendor:"vendor-portal-yandex",modules:{welcome:"extension/app/welcome",goodbye:"extension/app/goodbye",ycookies:"extension/app/ys-cookie"},"remove-branding-keys":["atom","bookmarks","bar-navig","dayuse-json","context-menu"],manifestKey:"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0ymhhJcvqE4uwBcFg0kWCo+w79kLr15mzUennDQBB6iwAz3ZqMbAZROET/G4ikEIgQuxqRsz5qxvgV0LJ1uxVFOqZwupnvfY5eFsa9R+758m53SAdSvXQbNFlmiIjDwlTkrtSdqnEtEngzHitYVChvY6gGOFsIOnZjhmVTnSSBvvSa9QFpxdg7FYANgrw5jRYy/S53HhX0V9XtfHBXeOs2bM8+JMCamrDcoSiFDk4PNam+HMMta5ylQ8sTHWIxVPwsnBTGoUn9HWODLV+JFegm06z8GrM3Tci+V44685uvC9jU7d+nY2lZOmyCO2IeLX7Xx69TesPpBKqJECYmZ9xQIDAQAB",welcomeUrl:"https://yandex.{tld}/promo/set/welcome_portal/sethome","clicker-feature":"homesearchextchrome",yasoft:"homesearchextchrome"}},function(t,e,n){"use strict";var r=n(80),i=n(54),o=n(45),s=n(44),a=n(46),u=n(81);t.exports={TWO_HOURS:72e5,START_DELAY:1e4,ONE_DAY:86400,isRunning:!1,browserContextAvailable:!1,run:function(){this._tick=this._tick.bind(this),this.isRunning||this._runStatistics()},_runStatistics:function(){this.isRunning=!0,setTimeout(this._tick,this.START_DELAY),setInterval(this._tick,this.TWO_HOURS)},_tick:function(){this._waitBrowser(this._contextHandler.bind(this))},_waitBrowser:function(t){return this.browserContextAvailable?void t():i.whenBrowserContextAvailable(t)},_contextHandler:function(){this.browserContextAvailable=!0;var t=s.get(r.SOFT_EXPORT_TIME);t||this._triggerStat(Date.now()/1e3),this._checkLastTriggerDate(t)},_checkLastTriggerDate:function(t){var e=Date.now()/1e3;t<u.getEndOfDayTime(e)&&this._triggerStat(e)},_triggerStat:function(t){o.trigger(a.SOFT_EXPORT_TICK),s.set(r.SOFT_EXPORT_TIME,t)}}},function(t,e){"use strict";t.exports={UI:"yandex.statistics.ui",YANDEX_UI:"yandex.statistics.yandexUi",IS_YANDEX_UI:"yandex.statistics.is-yandex-ui",SOFT_EXPORT_TIME:"yandex.statistics.time",INSTALL_DATE:"application.installDate",UPDATE_DATE:"application.updateDate",DAYUSE_TIME:"yandex.dayuse.json.time",DAYUSE_STAT_TIME:"yandex.dayuse-stat.time",MIGRATION_KEY:"application.migration.state",BANNER_ID:"application.banner.id",BANNER_INIT_COMPLETED:"application.banner.initCompleted",CONTEXT_MENU:"application.context-menu.enabled",BAR_NAVIG:"application.tab.opinions.enabled",GPAUTO:"application.geolocation.enabled",ADVERTISEMENT:"application.advertisement.enabled"}},function(t,e){"use strict";t.exports={END_OF_DAY_HOUR:3,SEC_IN_DAY:86400,getEndOfDayTime:function(t){var e=new Date(1e3*t),n=e.getHours()<this.END_OF_DAY_HOUR?e.getDate()-1:e.getDate(),r=new Date(e.getFullYear(),e.getMonth(),n,this.END_OF_DAY_HOUR);return parseInt(r/1e3,10)},getDaysAfterInstall:function(t){var e=Date.now()/1e3,n=this.getEndOfDayTime(t);return Math.floor((e-n)/this.SEC_IN_DAY)}}},function(t,e,n){"use strict";function r(t){g.forEach(function(e){if(!t.hasOwnProperty(e))throw new Error("Property "+e+" required for dayuse.json statistics")})}function i(t,e){var n=v.url("dayuse-stat.url"),r=o(t),i=s(e);return n.replace("{vars}",r).replace("{slots}",i)}function o(t){var e={dayuse:l.getDaysAfterInstall(t.installDate),bro:f.getBrowser(),productname:t.name,ver:u(),ui:t.ui,brandID:v.get()};return t.clid&&(e.clid1=t.clid),t.params&&Object.keys(t.params).forEach(function(n){e[n]=t.params[n]}),Object.keys(e).map(function(t){return"-"+t+"="+encodeURIComponent(e[t])}).join(",")}function s(t){var e=a(t)||[0,0,0];return e.map(encodeURIComponent).join(",")}function a(t){if(Array.isArray(t)){var e=t[0];if(e)return[e.testId,e.testId,e.bucket]}return null}function u(){var t=chrome.runtime.getManifest().version;return t.split(".").join("-")}var c=n(48),l=n(81),f=n(54),h=n(46),d=n(45),p=n(79),v=n(72),g=["name","ui","installDate"],m=function(t,e){r(t),this._config=t,this._getExperiments=e};m.send=function(t,e){r(t),(new c).get(i(t,e))},m.prototype={run:function(){this._waitStatisticsTick(),p.run()},_waitStatisticsTick:function(){d.on(h.SOFT_EXPORT_TICK,this._sendStats,this)},_sendStats:function(){var t=this._getExperiments?this._getExperiments():null,e=i(this._config,t);(new c).get(e)}},t.exports=m},function(t,e,n){"use strict";function r(){var t,e=i.get(l)||i.get(f),n=u.getItem(a.UI);return e||n||(t=o.getUI(),i.set(f,t),u.setItem(a.UI,t)),e&&!n&&(t=e,u.setItem(a.UI,t)),n&&(t=n,i.set(f,t)),t}var i=n(44),o=n(8),s=n(84),a=n(80),u=n(85),c=n(86),l="yandex.statistics.yandexUi",f="application.ui";t.exports={version:chrome.runtime.getManifest().version,exportStatData:function(){return{yasoft:c.get("yasoft")+"_chr",version:chrome.runtime.getManifest().version,ui:this.ui,clid:s.get(1),name:c.get("yasoft"),installDate:i.get(a.INSTALL_DATE)}},get ui(){return r()},get clid1(){return s.get(1)}}},function(t,e,n){"use strict";var r=n(8),i=n(44),o=n(78).clid;t.exports={CLID:"clid",PROPERTY_TEMPLATE:"yandex.statistics.clid.{clid}",init:function(t){r.isFunction(t)&&t()},get:function(t){return this._fromStorage(t)||this._fromVendor(t)},_fromStorage:function(t){return i.get(this.PROPERTY_TEMPLATE.replace("{clid}",t))},_fromVendor:function(t){return o[t]}}},function(t,e,n){"use strict";var r=n(5);t.exports={COOKIE_DOMAIN:".chrome-elements.yandex.addons",COOKIE_NAME:"cross-extension",DELIMITER:":",storage:{},changeCallbacks:[],ONE_YEAR:31536e3,init:function(t){var e=this;r([function(t){return e._getCookies(t)},function(t){return e._listenChangeEvent(t)}],t)},getItem:function(t){return this.storage[t]},setItem:function(t,e){if(this.storage[t]!==e){this.storage[t]=e;var n={url:this.cookieUrl,domain:this.COOKIE_DOMAIN,name:t,value:this._processValue(e),expirationDate:Date.now()+this.ONE_YEAR};chrome.cookies.set(n)}},onChanged:function(t,e){this.changeCallbacks.push({handler:t,ctx:e})},_getCookies:function(t){var e={domain:this.COOKIE_DOMAIN};chrome.cookies.getAll(e,this._cookieInfoHandler.bind(this,t))},_cookieInfoHandler:function(t,e){e.forEach(function(t){this.storage[t.name]=this._getValue(t.value)},this),t()},_listenChangeEvent:function(t){chrome.cookies.onChanged.addListener(this._changeHandler.bind(this)),t()},_changeHandler:function(t){t.cookie.domain===this.COOKIE_DOMAIN&&(this.storage[t.cookie.name]=this._getValue(t.cookie.value),this._trigger(t.cookie.name,t.cookie.value))},_trigger:function(t,e){this.changeCallbacks.forEach(function(n){n.handler.call(n.ctx,t,e)})},_processValue:function(t){return"object"==typeof t?encodeURIComponent(JSON.stringify(t)):"string"==typeof t?encodeURIComponent(t):t},_getValue:function(t){if("string"==typeof t){var e=decodeURIComponent(t);try{e=JSON.parse(e)}catch(n){}return e}return t},get cookieUrl(){return"http://"+this.COOKIE_DOMAIN.replace(/^\./,"")+"/"}}},function(t,e,n){"use strict";var r=n(73),i=n(78);t.exports={init:function(t){t()},get:function(t){return r(i,t)}}},function(t,e,n){"use strict";var r=n(53),i=n(72),o=n(88),s=n(123),a=n(44),u=n(80),c=n(4),l=[".yandex.ru",".yandex.kz",".yandex.by"],f=[".yandex.ua"],h=[".yandex.com.tr"],d=[".yandex.kz"],p=[".yandex.by"],v={yandex:l,ua:f,tb:h,kz:d,by:p};t.exports={init:function(t){if(this._callback=t,r.isInstall){var e={domainsQueue:v[i.get()]};new o(e,s).run().then(this._saveBannerId.bind(this))}else this._completeSearch()},getBannerId:function(){return a.get(u.BANNER_ID)},_callback:null,_saveBannerId:function(t){a.set(u.BANNER_ID,t),this._completeSearch()},_completeSearch:function(){c.isFunction(this._callback)&&this._callback()}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(89),a=r(s),u=n(95),c=r(u),l=n(119),f=r(l),h={cookieName:"ys",cookiePart:"bnrd"},d=function(){function t(e,n){i(this,t),e=(0,a["default"])(e,h),this._cookieName=e.cookieName,this._cookiePart=e.cookiePart,this._domainsQueue=e.domainsQueue,this._YsCookie=n}return o(t,[{key:"run",value:function(){var t=this._createCookiesForDomains();return this._updateBannerId(t)}},{key:"_createCookiesForDomains",value:function(){var t=this;return this._domainsQueue.map(function(e){return new t._YsCookie(e)})}},{key:"_updateBannerId",value:function(t){var e=this;return this._getBannerIdValues(t).then(function(t){var n=!0,r=!1,i=void 0;try{for(var o,s=function(){var n=o.value,r=e._findCookieForDomain(n,t);if(r)return{v:r.cookie.deletePart(e._cookiePart).then(function(){return Promise.resolve(r.bannerId)})}},a=e._domainsQueue[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=s();if("object"==typeof u)return u.v}}catch(c){r=!0,i=c}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw i}}return Promise.resolve(null)})}},{key:"_getBannerIdValues",value:function(t){var e=this,n=t.map(function(t){return t.getValue(e._cookiePart).then(function(e){return{cookie:t,bannerId:e}})});return Promise.all(n).then(function(t){return(0,c["default"])(t,"bannerId")})}},{key:"_findCookieForDomain",value:function(t,e){return(0,f["default"])(e,function(e){return e.cookie.domain===t})}}]),t}();e["default"]=d,t.exports=e["default"]},function(t,e,n){var r=n(90),i=n(93),o=n(94),s=o(r,i);t.exports=s},function(t,e,n){var r=n(91),i=n(92),o=n(39),s=o(function(t,e,n){return n?r(t,e,n):i(t,e)});t.exports=s},function(t,e,n){function r(t,e,n){for(var r=-1,o=i(e),s=o.length;++r<s;){var a=o[r],u=t[a],c=n(u,e[a],a,t,e);(c===c?c===u:u!==u)&&(void 0!==u||a in t)||(t[a]=c)}return t}var i=n(37);t.exports=r},function(t,e,n){function r(t,e){return null==e?t:i(e,o(e),t)}var i=n(36),o=n(37);t.exports=r},function(t,e){function n(t,e){return void 0===t?e:t}t.exports=n},function(t,e,n){function r(t,e){return i(function(n){var r=n[0];return null==r?r:(n.push(e),t.apply(void 0,n))})}var i=n(43);t.exports=r},function(t,e,n){function r(t,e,n){var r=a(t)?i:s;return e=o(e,n,3),r(t,e)}var i=n(96),o=n(97),s=n(115),a=n(22);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[++i]=s)}return o}t.exports=n},function(t,e,n){function r(t,e,n){var r=typeof t;return"function"==r?void 0===e?t:s(t,e,n):null==t?a:"object"==r?i(t):void 0===e?u(t):o(t,e)}var i=n(98),o=n(109),s=n(40),a=n(41),u=n(113);t.exports=r},function(t,e,n){function r(t){var e=o(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null!=t&&(t[n]===r&&(void 0!==r||n in s(t)))}}return function(t){return i(t,e)}}var i=n(99),o=n(106),s=n(31);t.exports=r},function(t,e,n){function r(t,e,n){var r=e.length,s=r,a=!n;if(null==t)return!s;for(t=o(t);r--;){var u=e[r];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++r<s;){u=e[r];var c=u[0],l=t[c],f=u[1];if(a&&u[2]){if(void 0===l&&!(c in t))return!1}else{var h=n?n(l,f,c):void 0;if(!(void 0===h?i(f,l,n,!0):h))return!1}}return!0}var i=n(100),o=n(31);t.exports=r},function(t,e,n){function r(t,e,n,a,u,c){return t===e||(null==t||null==e||!o(t)&&!s(e)?t!==t&&e!==e:i(t,e,r,n,a,u,c))}var i=n(101),o=n(26),s=n(21);t.exports=r},function(t,e,n){function r(t,e,n,r,h,v,g){var m=a(t),y=a(e),_=l,b=l;m||(_=p.call(t),_==c?_=f:_!=f&&(m=u(t))),y||(b=p.call(e),b==c?b=f:b!=f&&(y=u(e)));var x=_==f,E=b==f,k=_==b;if(k&&!m&&!x)return o(t,e,_);if(!h){var w=x&&d.call(t,"__wrapped__"),O=E&&d.call(e,"__wrapped__");if(w||O)return n(w?t.value():t,O?e.value():e,r,h,v,g)}if(!k)return!1;v||(v=[]),g||(g=[]);for(var A=v.length;A--;)if(v[A]==t)return g[A]==e;v.push(t),g.push(e);var T=(m?i:s)(t,e,n,r,h,v,g);return v.pop(),g.pop(),T}var i=n(102),o=n(104),s=n(105),a=n(22),u=n(34),c="[object Arguments]",l="[object Array]",f="[object Object]",h=Object.prototype,d=h.hasOwnProperty,p=h.toString;t.exports=r},function(t,e,n){function r(t,e,n,r,o,s,a){var u=-1,c=t.length,l=e.length;if(c!=l&&!(o&&l>c))return!1;for(;++u<c;){var f=t[u],h=e[u],d=r?r(o?h:f,o?f:h,u):void 0;if(void 0!==d){if(d)continue;return!1}if(o){if(!i(e,function(t){return f===t||n(f,t,r,o,s,a)}))return!1}else if(f!==h&&!n(f,h,r,o,s,a))return!1}return!0}var i=n(103);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}t.exports=n},function(t,e){function n(t,e,n){switch(n){case r:case i:return+t==+e;case o:return t.name==e.name&&t.message==e.message;case s:return t!=+t?e!=+e:t==+e;case a:case u:return t==e+""}return!1}var r="[object Boolean]",i="[object Date]",o="[object Error]",s="[object Number]",a="[object RegExp]",u="[object String]";t.exports=n},function(t,e,n){function r(t,e,n,r,o,a,u){var c=i(t),l=c.length,f=i(e),h=f.length;if(l!=h&&!o)return!1;for(var d=l;d--;){var p=c[d];if(!(o?p in e:s.call(e,p)))return!1}for(var v=o;++d<l;){p=c[d];var g=t[p],m=e[p],y=r?r(o?m:g,o?g:m,p):void 0;if(!(void 0===y?n(g,m,r,o,a,u):y))return!1;v||(v="constructor"==p)}if(!v){var _=t.constructor,b=e.constructor;if(_!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b))return!1}return!0}var i=n(37),o=Object.prototype,s=o.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){for(var e=o(t),n=e.length;n--;)e[n][2]=i(e[n][1]);return e}var i=n(107),o=n(108);t.exports=r},function(t,e,n){function r(t){return t===t&&!i(t)}var i=n(26);t.exports=r},function(t,e,n){function r(t){t=o(t);for(var e=-1,n=i(t),r=n.length,s=Array(r);++e<r;){var a=n[e];s[e]=[a,t[a]]}return s}var i=n(37),o=n(31);t.exports=r},function(t,e,n){function r(t,e){var n=a(t),r=u(t)&&c(e),d=t+"";return t=h(t),function(a){if(null==a)return!1;var u=d;if(a=f(a),(n||!r)&&!(u in a)){if(a=1==t.length?a:i(a,s(t,0,-1)),null==a)return!1;u=l(t),a=f(a)}return a[u]===e?void 0!==e||u in a:o(e,a[u],void 0,!0)}}var i=n(74),o=n(100),s=n(110),a=n(22),u=n(111),c=n(107),l=n(112),f=n(31),h=n(75);t.exports=r},function(t,e){function n(t,e,n){var r=-1,i=t.length;e=null==e?0:+e||0,e<0&&(e=-e>i?0:i+e),n=void 0===n||n>i?i:+n||0,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}t.exports=n},function(t,e,n){function r(t,e){var n=typeof t;if("string"==n&&a.test(t)||"number"==n)return!0;if(i(t))return!1;var r=!s.test(t);return r||null!=e&&t in o(e)}var i=n(22),o=n(31),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=r},function(t,e){function n(t){var e=t?t.length:0;return e?t[e-1]:void 0}t.exports=n},function(t,e,n){function r(t){return s(t)?i(t):o(t)}var i=n(19),o=n(114),s=n(111);t.exports=r},function(t,e,n){function r(t){var e=t+"";return t=o(t),function(n){return i(n,t,e)}}var i=n(74),o=n(75);t.exports=r},function(t,e,n){function r(t,e){var n=[];return i(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}var i=n(116);t.exports=r},function(t,e,n){var r=n(117),i=n(118),o=i(r);t.exports=o},function(t,e,n){function r(t,e){return i(t,e,o)}var i=n(29),o=n(37);t.exports=r},function(t,e,n){function r(t,e){return function(n,r){var a=n?i(n):0;if(!o(a))return t(n,r);for(var u=e?a:-1,c=s(n);(e?u--:++u<a)&&r(c[u],u,c)!==!1;);return n}}var i=n(18),o=n(20),s=n(31);t.exports=r},function(t,e,n){var r=n(116),i=n(120),o=i(r);t.exports=o;
},function(t,e,n){function r(t,e){return function(n,r,u){if(r=i(r,u,3),a(n)){var c=s(n,r,e);return c>-1?n[c]:void 0}return o(n,r,t)}}var i=n(97),o=n(121),s=n(122),a=n(22);t.exports=r},function(t,e){function n(t,e,n,r){var i;return n(t,function(t,n,o){if(e(t,n,o))return i=r?n:t,!1}),i}t.exports=n},function(t,e){function n(t,e,n){for(var r=t.length,i=n?r:-1;n?i--:++i<r;)if(e(t[i],i,t))return i;return-1}t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(124),a=r(s),u=n(119),c=r(u),l=n(129),f=r(l),h="ys",d="https",p=function(){function t(e){i(this,t),this.domain=e,this.name=h,this.protocol=d,this._ysSerializer=new f["default"]}return o(t,[{key:"getCookie",value:function(){var t={domain:this.domain,name:this.name};return a["default"].cookies.getAll(t).then(this._getFirstCookie.bind(this))}},{key:"addPart",value:function(t,e){var n=this;return this.getCookie().then(function(r){var i=r?r.value:"",o=n._ysSerializer.addPart(i,t,e);return n._saveIfChanged(o,i,t)})}},{key:"deletePart",value:function(t){var e=this;return this.getCookie().then(function(n){if(n){var r=n.value,i=e._ysSerializer.deletePart(r,t);return e._saveIfChanged(i,r,t)}return null})}},{key:"updatePart",value:function(t,e){var n=this;return this.getCookie().then(function(r){if(r){var i=r.value,o=n._ysSerializer.updatePart(i,t,e);return n._saveIfChanged(o,i,t)}return null})}},{key:"upsertPart",value:function(t,e){var n=this;return this.getCookie().then(function(r){var i=r?r.value:"",o=n._ysSerializer.upsertPart(i,t,e);return n._saveIfChanged(o,i,t)})}},{key:"getValue",value:function(t){var e=this;return this.getCookie().then(function(n){return n?e._ysSerializer.getValue(n.value,t):null})}},{key:"_saveIfChanged",value:function(t,e,n){return this._ysSerializer.isPartChanged(t,e,n)?this._saveCookie(t):Promise.resolve(t)}},{key:"_saveCookie",value:function(t){return this._setCookie(t).then(function(){return Promise.resolve(t)})}},{key:"_getFirstCookie",value:function(t){return(0,c["default"])(t,function(t){return t.hostOnly===!1})||t[0]}},{key:"_setCookie",value:function(t){return a["default"].cookies.set({url:this.protocol+"://"+this.domain.replace(/^\./,"")+"/",domain:this.domain,name:this.name,value:t})}}]),t}();e["default"]=p,t.exports=e["default"]},function(t,e,n){(function(r){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(){return"undefined"!=typeof window&&window.Promise?window.Promise:"undefined"!=typeof r&&r.Promise?r.Promise:void 0}Object.defineProperty(e,"__esModule",{value:!0});var s=n(125),a=i(s),u=o();if(!u)throw new TypeError("Native promise does not support in your environment. Use /out/api function directly");e["default"]=(0,a["default"])(u),t.exports=e["default"]}).call(e,function(){return this}())},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return Object.keys(u["default"]).reduce(function(e,n){return o(e,n),s(e,n,u["default"][n],t)},{})}function o(t,e){var n=(0,l.get)(t,e);return n||(0,l.set)(t,e),t}function s(t,e,n,r){return(0,c.wrapAsyncMethods)(t,e,n.async,r),(0,c.wrapSyncMethods)(t,e,n.sync,r),t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var a=n(126),u=r(a),c=n(127),l=n(128);t.exports=e["default"]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={alarms:{async:["get","getAll","clear","clearAll"],sync:["create"]},bookmarks:{async:["get","getChildren","getRecent","getTree","getSubTree","search","create","move","update","remove","removeTree"]},browserAction:{async:["getTitle","setIcon","getPopup","getBadgeText","getBadgeBackgroundColor"],sync:["setTitle","setPopup","setBadgeText","setBadgeBackgroundColor","enable","disable"]},browsingData:{async:["settings","remove","removeAppcache","removeCache","removeCookies","removeDownloads","removeFileSystems","removeFormData","removeHistory","removeIndexedDB","removeLocalStorage","removePluginData","removePasswords","removeWebSQL"]},commands:{async:["getAll"]},contextMenus:{async:["create","update","remove","removeAll"]},cookies:{async:["get","getAll","set","remove","getAllCookieStores"]},"debugger":{async:["attach","detach","sendCommand","getTargets"]},desktopCapture:{async:["chooseDesktopMedia"],sync:["cancelChooseDesktopMedia"]},"devtools.inspectedWindow":{async:["eval","getResources"],sync:["reload"]},"devtools.network":{async:["getHAR"]},"devtools.panels":{async:["create","setOpenResourceHandler","openResource"]},dial:{async:["discoverNow","fetchDeviceDescription"]},downloads:{async:["download","search","pause","resume","cancel","getFileIcon","erase","removeFile","acceptDanger"],sync:["open","show","showDefaultFolder","drag","setShelfEnabled"]},extension:{async:["isAllowedIncognitoAccess","isAllowedFileSchemeAccess"],sync:["getURL","getViews","getBackgroundPage","getExtensionTabs","setUpdateUrlData"]},fontSettings:{async:["clearFont","getFont","setFont","getFontList","clearDefaultFontSize","getDefaultFontSize","setDefaultFontSize","clearDefaultFixedFontSize","getDefaultFixedFontSize","setDefaultFixedFontSize","clearMinimumFontSize","getMinimumFontSize","setMinimumFontSize"]},gcm:{async:["register","unregister","send"]},history:{async:["search","getVisits","addUrl","deleteUrl","deleteRange","deleteAll"]},i18n:{async:["getAcceptLanguages","detectLanguage"],sync:["getMessage","getUILanguage"]},identity:{async:["getAccounts","getAuthToken","getProfileUserInfo","removeCachedAuthToken","launchWebAuthFlow"],sync:["getRedirectURL"]},idle:{async:["queryState"],sync:["setDetectionInterval"]},instanceID:{async:["getID","getCreationTime","getToken","deleteToken","deleteID"]},management:{async:["getAll","get","getSelf","getPermissionWarningsById","getPermissionWarningsByManifest","setEnabled","uninstall","uninstallSelf","launchApp","createAppShortcut","setLaunchType","generateAppForLink"]},notifications:{async:["create","update","clear","getAll","getPermissionLevel"]},omnibox:{sync:["setDefaultSuggestion"]},pageAction:{async:["getTitle","setIcon","getPopup"],sync:["show","hide","setTitle","setPopup"]},pageCapture:{async:["saveAsMHTML"]},permissions:{async:["getAll","contains","request","remove"]},"privacy.network.networkPredictionEnabled":{async:["get","set","clear"]},"privacy.services.alternateErrorPagesEnabled":{async:["get","set","clear"]},"privacy.services.autofillEnabled":{async:["get","set","clear"]},"privacy.services.passwordSavingEnabled":{async:["get","set","clear"]},"privacy.services.safeBrowsingEnabled":{async:["get","set","clear"]},"privacy.services.searchSuggestEnabled":{async:["get","set","clear"]},"privacy.services.spellingServiceEnabled":{async:["get","set","clear"]},"privacy.services.translationServiceEnabled":{async:["get","set","clear"]},"privacy.websites.hyperlinkAuditingEnabled":{async:["get","set","clear"]},"privacy.websites.referrersEnabled":{async:["get","set","clear"]},"privacy.websites.thirdPartyCookiesAllowed":{async:["get","set","clear"]},"proxy.settings":{async:["get","set","clear"]},runtime:{async:["getBackgroundPage","openOptionsPage","setUninstallURL","requestUpdateCheck","sendMessage","sendNativeMessage","getPlatformInfo","getPackageDirectoryEntry"],sync:["getManifest","getURL","reload","restart","connect","connectNative"]},sessions:{async:["getRecentlyClosed","getDevices","restore"]},"storage.local":{async:["clear","get","set","remove","getBytesInUse"]},"storage.managed":{async:["clear","get","set","remove","getBytesInUse"]},"storage.sync":{async:["clear","get","set","remove","getBytesInUse"]},"system.cpu":{async:["getInfo"]},"system.memory":{async:["getInfo"]},"system.storage":{async:["getInfo","ejectDevice","getAvailableCapacity"]},tabCapture:{async:["capture","getCapturedTabs"]},tabs:{async:["get","getCurrent","sendRequest","sendMessage","getSelected","getAllInWindow","create","duplicate","query","highlight","update","move","reload","remove","detectLanguage","captureVisibleTab","executeScript","insertCSS","setZoom","getZoom","setZoomSettings","getZoomSettings"],sync:["connect"]},topSites:{async:["get"]},tts:{async:["speak","isSpeaking","getVoices"],sync:["stop","pause","resume"]},webNavigation:{async:["getFrame","getAllFrames"]},webRequest:{async:["handlerBehaviorChanged"]},windows:{async:["get","getCurrent","getLastFocused","getAll","create","update","remove"]}},t.exports=e["default"]},function(t,e,n){(function(t){"use strict";function r(t,e,n,r){return void 0===n&&(n=[]),n.reduce(function(n,i){return s(t,e,i,r)},t)}function i(t,e,n,r){return void 0===n&&(n=[]),n.reduce(function(n,i){return c(t,e,i,r)},t)}function o(){return"undefined"!=typeof window&&window.chrome?window.chrome:"undefined"!=typeof t&&t.chrome?t.chrome:void 0}function s(t,e,n,r){var i=(0,h.get)(t,e);return Object.defineProperty(i,n,{get:function(){return a(r,e,n)}}),t}function a(t,e,n){var r=this;return function(){for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return new t(function(t,i){var s=(0,h.get)(d,e);o.push(u(t,i,r)),f(s[n],s,o)})}}function u(t,e,n){return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return d.runtime.lastError?e(d.runtime.lastError):f(t,n,i)}}function c(t,e,n,r){var i=(0,h.get)(t,e);return Object.defineProperty(i,n,{get:function(){return l(r,e,n)}}),t}function l(t,e,n){return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return new t(function(t,r){var o=(0,h.get)(d,e);try{return t(f(o[n],o,i))}catch(s){return r(s)}})}}function f(t,e,n){return Function.prototype.apply.call(t,e,n)}Object.defineProperty(e,"__esModule",{value:!0}),e.wrapAsyncMethods=r,e.wrapSyncMethods=i;var h=n(128),d=o()}).call(e,function(){return this}())},function(t,e){"use strict";function n(t,e){for(var n=arguments.length<=2||void 0===arguments[2]?".":arguments[2],r=e.split(n),i=t,o=0;o<r.length;o++){var s=r[o];if(!i[s])return null;i=i[s]}return i}function r(t,e){var n=arguments.length<=2||void 0===arguments[2]?".":arguments[2];return i(t,e.split(n))}function i(t,e){if(e.length){var n=t[e[0]]="undefined"==typeof t[e[0]]?{}:t[e[0]];i(n,e.slice(1,e.length))}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.get=n,e.set=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&a["return"]&&a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(89),u=r(a),c={partsDelimiter:"#",keyValueDelimiter:"."},l=function(){function t(e){i(this,t),e=(0,u["default"])({},e,c),this._partsDelimiter=e.partsDelimiter,this._keyValueDelimiter=e.keyValueDelimiter}return s(t,[{key:"getParts",value:function(t){return t.split(this._partsDelimiter).filter(Boolean)}},{key:"addPart",value:function(t,e,n){var r=this.getParts(t);return r.push(this._createPart(e,n)),this._toCookieValue(r)}},{key:"deletePart",value:function(t,e){var n=this.getParts(t).filter(function(t){var n=t.split(this._keyValueDelimiter),r=o(n,1),i=r[0];return e!==i},this);return this._toCookieValue(n)}},{key:"updatePart",value:function(t,e,n){var r=this,i=this.getParts(t).map(function(t){var i=t.split(r._keyValueDelimiter),s=o(i,1),a=s[0];return a===e?r._createPart(a,n):t});return this._toCookieValue(i)}},{key:"upsertPart",value:function(t,e,n){var r=this.getValue(t,e);return r?this.updatePart(t,e,n):this.addPart(t,e,n)}},{key:"getValue",value:function(t,e){var n=!0,r=!1,i=void 0;try{for(var o,s=this.getParts(t)[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value,u=this._parsePart(a);if(u.key===e)return u.value}}catch(c){r=!0,i=c}finally{try{!n&&s["return"]&&s["return"]()}finally{if(r)throw i}}return null}},{key:"getValues",value:function(t){return this.getParts(t).map(this._parsePart,this)}},{key:"isPartChanged",value:function(t,e,n){var r=this.getValue(e,n),i=this.getValue(t,n);return i!==r}},{key:"_createPart",value:function(t,e){return t+this._keyValueDelimiter+encodeURIComponent(e)}},{key:"_toCookieValue",value:function(t){return t.join(this._partsDelimiter)}},{key:"_parsePart",value:function(t){var e=t.indexOf(this._keyValueDelimiter),n=e===-1?t:t.substr(0,e),r=e===-1?null:t.substr(e+1);return{key:n,value:r?decodeURIComponent(r):"",source:t}}}]),t}();e["default"]=l,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){var e=new s,n=i();l.updateExperiments(e,n,Boolean(t)),o()}function i(){return u.get(h)}function o(){f.info("Current experiments: %j",e.getExperiments())}var s=n(131),a=n(55),u=n(86),c=n(53),l=n(133),f=a.create("experiments"),h="experimentConfigs",d=36e5;e.run=function(){f.info("Configs: %j",i()),r(c.isInstall),setInterval(r,d)},e.getExperiments=l.getExperiments.bind(l),e.getExperimentByName=l.getExperimentByName.bind(l)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){var e=Date.now();return e<t.startTime||e>t.endTime}function s(t){var e=Object.keys(t),n=e.length,r=e[Math.floor(Math.random()*n)];return[r,t[r]]}function a(){return Math.floor(1+100*Math.random())}function u(t){var e=l(),n=0,r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var u=s.value;if(n+=u.percent,e<=n)return[u]}}catch(c){i=!0,o=c}finally{try{!r&&a["return"]&&a["return"]()}finally{if(i)throw o}}return[]}function c(t,e){return t.installOnly&&!e}function l(){return 100*Math.random()}function f(t){var e=t.reduce(function(t,e){return t+e.percent},0);if(e>100)throw new Error("Experiments percent sum must be <= 100, you have: "+e)}function h(t,e){return e.some(function(e){return String(t.testId)in e.types})}Object.defineProperty(e,"__esModule",{value:!0});var d=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&a["return"]&&a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),v=n(132),g=r(v),m=function(){function t(){i(this,t)}return p(t,[{key:"createExperiments",value:function(t,e,n){void 0===e&&(e=[]);var r=this.getActualExistingExperiments(e,t);if(r.length)return r;var i=this.createNewExperiment(t,n);return i?[i]:[]}},{key:"createNewExperiment",value:function(t,e){var n=t.filter(function(t){return!c(t,e.isInstall)}).filter(function(t){return!o(t)});f(n);var r=u(n);return r.length?this._createExperiment(r[0]):null}},{key:"getActualExistingExperiments",value:function(t,e){return t.filter(function(t){return!o(t.config)}).filter(function(t){return h(t,e)})}},{key:"createExperimentInstance",value:function(t){return new g["default"](t)}},{key:"_createExperiment",value:function(t){var e=s(t.types),n=d(e,2),r=n[0],i=n[1];return this.createExperimentInstance({name:t.name,testId:r,data:i,bucket:a(),config:t})}}]),t}();e["default"]=m,t.exports=e["default"]},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function i(t){n(this,i),this.name=t.name,this.testId=t.testId,this.bucket=t.bucket,this.data=t.data,this.config=t.config};e["default"]=r,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){s.set(a,t)}function i(t,e){return e.some(function(e){return String(t.testId)in e.types})}var o=n(119),s=n(44),a="application.experiments";e.getExperiments=function(){return s.get(a)||[]},e.getExperimentByName=function(t){var n=o(e.getExperiments(),{name:t});return n?n.data:null},e.updateExperiments=function(t,n,o){var s=e.getExperiments().filter(function(t){return i(t,n)}),a=t.createExperiments(n,s,{isInstall:o});r(a)}},function(t,e,n){"use strict";function r(t,e){Object.keys(i).forEach(function(e){var n=i[e];n["default"]&&"function"==typeof n["default"][t]&&n["default"][t](),"function"==typeof n[t]&&n[t]()}),"function"==typeof e&&e()}var i=n(135);t.exports={runExternalModules:function(t,e){r("run",e)},prepareExternalModules:function(t,e){r("prepare",e)}}},function(t,e,n){t.exports={0:n(136),1:n(140),2:n(155)}},function(t,e,n){"use strict";var r=n(53),i=n(137);t.exports={run:function(){r.isInstall&&i.open()}}},function(t,e,n){"use strict";var r=n(124),i=n(8),o=n(72),s=n(86),a=n(138),u=n(139),c=n(55),l=c.create("welcome"),f=-1,h=-2,d="w",p="l";t.exports={params:{},open:function(){return this.params={},this._mergeParamsFromTab(a.readTabParams(),d).then(function(){return this._mergeParamsFromTab(u.readTabParams(),p)}.bind(this)).then(function(){this._appendGchid(),this._navigate()}.bind(this))},_navigate:function(){var t=s.get("welcomeUrl");if(t){t=t.replace("{tld}",o.brandedTld);var e=i.serializeUrl(this.params),n=t+"?"+e;l.info("Opening welcome page: %s",n),r.tabs.create({url:n})}else l.error("Welcome page url not found for branding: %s",o.id)},_mergeParamsFromTab:function(t,e){return t.then(function(t){t?(this._mergeParams(t),this.params[e]=Object.keys(t).length):this.params[e]=f}.bind(this))["catch"](function(t){l.error(t&&t.message),this.params[e]=h}.bind(this))},_mergeParams:function(t){Object.keys(t).forEach(function(e){this.params.hasOwnProperty(e)||(this.params[e]=t[e])}.bind(this))},_appendGchid:function(){this.params.gchid=chrome.runtime.id}}},function(t,e,n){"use strict";function r(t){return t&&t.url&&0===t.url.indexOf(u)&&t.url.indexOf(chrome.runtime.id)>0}var i=n(124),o=n(8),s=n(55),a=s.create("webstore");const u="https://chrome.google.com/webstore/";t.exports={readTabParams:function(){return i.tabs.query({}).then(function(t){const e=t.find(r);return e?(a.log("Found own webstore tab: %s",e.url),o.deserializeUrl(e.url)):void a.warn("Webstore tab not found in %i tab(s)",t.length)})}}},function(t,e,n){"use strict";function r(t){var e=l.replace("{tld}",a.brandedTld),n=f.replace("{tld}",a.brandedTld);return t.find(function(t){return i(t,e,n)})}function i(t,e,n){return t&&t.url&&0===t.url.indexOf(e)&&t.url.indexOf(n)===-1}var o=n(124),s=n(8),a=n(72),u=n(55),c=u.create("landing"),l="https://yandex.{tld}/promo/set/",f="https://yandex.{tld}/promo/set/welcome";t.exports={readTabParams:function(){return o.tabs.query({}).then(function(t){c.log("Searching landing tab in %i tab(s)",t.length);var e=r(t);return e?(c.log("Found landing tab: %s",e.url),s.deserializeUrl(e.url)):void c.warn("Landing tab not found")})}}},function(t,e,n){"use strict";var r=n(83),i=n(141),o=n(87);t.exports={run:function(){var t=r.exportStatData(),e=o.getBannerId(),n={yasoft:t.yasoft,ui:t.ui,gchid:chrome.runtime.id};e&&(n.bnrd=e),i.setup(n)}}},function(t,e,n){"use strict";var r=n(124),i=n(142),o=n(72),s=n(53).platform,a=n(84),u=n(8),c=n(44),l=n(80),f=n(55),h=o.url("goodbye.url"),d=f.create("goodbye");t.exports={MAX_LENGTH:255,setup:function(t){var e=u.objectMerge(this._getDefaults(),t),n=this._createUrl(e);d.info("set goodbye page %s",n),r.runtime.setUninstallURL(n)["catch"](function(t){d.error("setUninstall url error %s, %j",n,t)})},_getDefaults:function(){return{ver:chrome.runtime.getManifest().version,os:s,stat:"uninstall",brandID:o.get(),clid:a.get(1),dateinstall:this._getInstallDate()}},_getInstallDate:function(){var t=new Date(1e3*parseInt(c.get(l.INSTALL_DATE),10));return u.dateToString(t)},_createUrl:function(t){var e=this._getUrl(t),n=["bnrd","gchid","brandID","os","ver"];if(e.length<=this.MAX_LENGTH)return e;for(var r=0;r<n.length;r++){var o=n.slice(0,r+1);if(d.warn("goodbye page url too long %s",e),d.info("try remove %s",o.join(", ")),e=this._getUrl(i(t,o)),e.length<=this.MAX_LENGTH)return e}return e},_getUrl:function(t){return h+"?"+u.serializeUrl(t)}}},function(t,e,n){var r=n(143),i=n(144),o=n(151),s=n(40),a=n(32),u=n(153),c=n(154),l=n(43),f=l(function(t,e){if(null==t)return{};if("function"!=typeof e[0]){var e=r(o(e),String);return u(t,i(a(t),e))}var n=s(e[0],e[1],3);return c(t,function(t,e,r){return!n(t,e,r)})});t.exports=f},function(t,e){function n(t,e){for(var n=-1,r=t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}t.exports=n},function(t,e,n){function r(t,e){var n=t?t.length:0,r=[];if(!n)return r;var u=-1,c=i,l=!0,f=l&&e.length>=a?s(e):null,h=e.length;f&&(c=o,l=!1,e=f);t:for(;++u<n;){var d=t[u];if(l&&d===d){for(var p=h;p--;)if(e[p]===d)continue t;r.push(d)}else c(e,d,0)<0&&r.push(d)}return r}var i=n(145),o=n(147),s=n(148),a=200;t.exports=r},function(t,e,n){function r(t,e,n){if(e!==e)return i(t,n);for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}var i=n(146);t.exports=r},function(t,e){function n(t,e,n){for(var r=t.length,i=e+(n?0:-1);n?i--:++i<r;){var o=t[i];if(o!==o)return i}return-1}t.exports=n},function(t,e,n){function r(t,e){var n=t.data,r="string"==typeof e||i(e)?n.set.has(e):n.hash[e];return r?0:-1}var i=n(26);t.exports=r},function(t,e,n){(function(e){function r(t){return a&&s?new i(t):null}var i=n(149),o=n(23),s=o(e,"Set"),a=o(Object,"create");t.exports=r}).call(e,function(){return this}())},function(t,e,n){(function(e){function r(t){var e=t?t.length:0;for(this.data={hash:a(null),set:new s};e--;)this.push(t[e])}var i=n(150),o=n(23),s=o(e,"Set"),a=o(Object,"create");r.prototype.push=i,t.exports=r}).call(e,function(){return this}())},function(t,e,n){function r(t){var e=this.data;"string"==typeof t||i(t)?e.set.add(t):e.hash[t]=!0}var i=n(26);t.exports=r},function(t,e,n){function r(t,e,n,c){c||(c=[]);for(var l=-1,f=t.length;++l<f;){var h=t[l];u(h)&&a(h)&&(n||s(h)||o(h))?e?r(h,e,n,c):i(c,h):n||(c[c.length]=h)}return c}var i=n(152),o=n(16),s=n(22),a=n(17),u=n(21);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}t.exports=n},function(t,e,n){function r(t,e){t=i(t);for(var n=-1,r=e.length,o={};++n<r;){var s=e[n];s in t&&(o[s]=t[s])}return o}var i=n(31);t.exports=r},function(t,e,n){function r(t,e){var n={};return i(t,function(t,r,i){e(t,r,i)&&(n[r]=t)}),n}var i=n(28);t.exports=r},function(t,e,n){"use strict";var r=n(156),i=n(86);t.exports={run:function(){r.run(i.get("yasoft"),chrome.runtime.getManifest().version.split(".").join("-"))}}},function(t,e,n){"use strict";function r(t){return Math.ceil(Math.random()*t)+t}var i=n(124),o=n(157),s=n(55),a=s.create("ycookie");t.exports={timeoutId:0,DOMAINS:[".yandex.ru",".yandex.kz",".yandex.ua",".yandex.by",".yandex.net",".yandex.com",".yandex.com.tr",".ya.ru",".narod.ru"],SECOND_DELAY:3e5,TWO_HOURS:72e5,COOKIE_NAME:"ys",DELIMITER:"#",NAME_VERSION_SEPARATOR:".",run:function(t,e){var n=this;this.appName=t,this.version=e,a.info("run with yasoft - %s, version - %s",t,e),o(function(){n._update(),n._listenCookieChange()},r(100)),o(function(){n._scheduleUpdate()},r(n.SECOND_DELAY))},_scheduleUpdate:function(){a.info("update cookies via scheduler");var t=this;t._update(),setTimeout(function(){t._scheduleUpdate()},r(t.TWO_HOURS))},_update:function(t){this._eachDomain(this._updateCookie,t)},_updateCookie:function(t,e){var n=this.appName+this.NAME_VERSION_SEPARATOR+this.version;t&&t.value&&(n=this._getPatchValue(t.value));var r=this.COOKIE_NAME;a.info("set ys for url `%s`, value - `%s`, name=`%s`",e,n,r),i.cookies.set({url:e,name:r,value:n,secure:!0})["catch"](function(t){a.error("err - %s, url=`%s`, name=`%s`, value=`%s`",t,e,r,n)})},_getPatchValue:function(t){var e=this.appName+this.NAME_VERSION_SEPARATOR+this.version,n=t.split(this.DELIMITER).filter(function(t){return t!==e});return n.unshift(e),n=this._removeDuplicateItems(n),n.join(this.DELIMITER)},_listenCookieChange:function(){var t=this;chrome.cookies.onChanged.addListener(function(e){e.removed&&"explicit"===e.cause&&e.cookie.name===t.COOKIE_NAME&&(a.info("handle cookie change %j",e),o(function(){t._update(e.cookie.domain)},Math.ceil(100*Math.random())))})},_getUrl:function(t){return"https://"+t+"/"},_eachDomain:function(t,e){this.DOMAINS.forEach(function(n){var r=this;if(!e||e===n){var i={url:this._getUrl(n),name:this.COOKIE_NAME};chrome.cookies.get(i,function(e){t.call(r,e,i.url)})}},this)},_removeDuplicateItems:function(t){var e=[],n=[];return t.forEach(function(t){var r=t.split(this.NAME_VERSION_SEPARATOR)[0];n.indexOf(r)<0&&(n.push(r),e.push(t))},this),e}}},function(t,e,n){var r=n(158),i=n(43),o=i(function(t,e,n){return r(t,e,n)});t.exports=o},function(t,e){function n(t,e,n){if("function"!=typeof t)throw new TypeError(r);return setTimeout(function(){t.apply(void 0,n)},e)}var r="Expected a function";t.exports=n},function(t,e,n){"use strict";var r=n(124),i=n(44),o=n(84),s=n(80),a=n(55),u=a.create("npt"),c=36e5,l=["https://yandex.{tld}/chrome/newtab/","https://www.yandex.{tld}/chrome/newtab/"],f=["ru","ua","by","kz","com.tr"];t.exports={run:function(){this._patchAllCookies()},_patchAllCookies:function(){u.info("patch all ntp cookies");var t="ext-"+chrome.runtime.id,e=this._getSerializedValue(),n=this;l.reduce(function(r,i){return r.then(function(){n._patchCookieForUrl(i,t,e)})},Promise.resolve()),setTimeout(function(){n._patchAllCookies()},c)},_patchCookieForUrl:function(t,e,n){var r=this;return f.reduce(function(i,o){return i.then(function(){return r._patchCookie(t.replace("{tld}",o),e,n)})},Promise.resolve())},_patchCookie:function(t,e,n){return u.info("patch url - %s, name - %s, value - %s",t,e,n),r.cookies.set({url:t,name:e,value:n,expirationDate:Math.ceil((Date.now()+c)/1e3)})["catch"](function(t){u.error(t)})},_getSerializedValue:function(){return JSON.stringify({id:i.get(s.INSTALL_DATE),ud:i.get(s.UPDATE_DATE),t:Date.now(),d:{clid:o.get(6),from:"chromesearch"}})}}},function(t,e,n){"use strict";function r(){s.navigate(o.url("portal.https-url")+"/?clid="+a.get(5))}function i(){c.send({pid:12,cid:72975,platform:null,feature:u.get("yasoft"),action:"icon"})}var o=n(72),s=n(54),a=n(84),u=n(86),c=n(161);e.run=function(){chrome.browserAction.onClicked.addListener(function(){r(),i()})}},function(t,e,n){"use strict";function r(t,e,n,r){if("undefined"==typeof t)throw new TypeError("path is undefined");i.send(s(a(),{pid:e,cid:n,path:t,vars:r}))}var i=n(162),o=n(54),s=n(11),a=function(){return{pid:12,cid:72359,platform:o.getBrowser(),version:chrome.runtime.getManifest().version.split(".").join("-")}},u=function(t){this._settings=s(a(),t)};u.prototype={send:function(t,e){if("string"==typeof t){var n=s(this._settings,{action:t});return i.send(n,e)}return"object"==typeof t?i.send(s(this.settings,t),e):i.send(this.settings,e)},sendPath:function(t,e,n,i){r(t,e||this._settings.pid,n||this._settings.cid,i)},get settings(){return s({},this._settings)}},u.send=function(t,e){var n=s(a(),t);i.send(n,e)},u.sendPath=r,t.exports=u},function(t,e,n){"use strict";function r(t,e){return a.replace("{pid}",encodeURIComponent(t.pid)).replace("{cid}",encodeURIComponent(t.cid)).replace("{path}",t.path||c.get(t,e)).replace("{vars}",i(t.vars))}function i(t){return t?"/"+o(t):""}function o(t){return Object.keys(t).map(function(e){return Array.isArray(t[e])?encodeURIComponent(e)+"="+t[e].map(encodeURIComponent).join(f):encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).filter(Boolean).join(l)}var s=n(72),a=s.url("clicker.url"),u=n(48),c=n(163),l="/",f=".";e.send=function(t,e){return(new u).get(r(t,e))}},function(t,e){"use strict";var n=["platform","feature","version","action"];e.get=function(t,e){return n.map(function(n){return e&&"version"===n?t[n].replace(/^(\d+)\-(\d+)\-(\d+)$/,"$1-$2"):t[n]}).filter(Boolean).join(".")}}]);