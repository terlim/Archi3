!function(t){t.fn.circliful=function(i,e){var a=t.extend({startdegree:0,fgcolor:"#556b2f",bgcolor:"#eee",fill:!1,width:15,dimension:200,fontsize:15,percent:50,animationstep:1,iconsize:"20px",iconcolor:"#999",border:"default",complete:null,bordersize:10},i);return this.each(function(){function e(i,e,a){t("<span></span>").appendTo(i).addClass(e).text(d).prepend(h).css({"line-height":a+"px","font-size":c.fontsize+"px"})}function n(i,e){t("<span></span>").appendTo(i).addClass("letyshops-circle-info-half").css("line-height",c.dimension*e+"px").text(s)}function o(e){u.clearRect(0,0,g.width,g.height),u.beginPath(),u.arc(v,x,b,P,z,!1),u.lineWidth=c.bordersize+1,u.strokeStyle=c.bgcolor,u.stroke(),f&&(u.fillStyle=c.fill,u.fill()),u.beginPath(),u.arc(v,x,b,-I+k,w*e-I+k,!1),"outline"==c.border?u.lineWidth=c.width+13:"inline"==c.border&&(u.lineWidth=c.width-13),u.strokeStyle=c.fgcolor,u.stroke(),y<l&&(y+=M,requestAnimationFrame(function(){o(Math.min(y,l)/100)},p)),y==l&&C&&void 0!==i&&t.isFunction(i.complete)&&(i.complete(),C=!1)}var d,s,r=["fgcolor","bgcolor","fill","width","dimension","fontsize","animationstep","endPercent","icon","iconcolor","iconsize","border","startdegree","bordersize"],c={},h="",l=0,p=t(this),f=!1;if(p.addClass("letyshops-circliful"),function(i){t.each(r,function(e,n){void 0!=i.data(n)?c[n]=i.data(n):c[n]=t(a).attr(n),"fill"==n&&void 0!=i.data("fill")&&(f=!0)})}(p),void 0!=p.data("text")&&(d=p.data("text"),void 0!=p.data("icon")&&(h=t("<i></i>").addClass("fa "+t(this).data("icon")).css({color:c.iconcolor,"font-size":c.iconsize})),void 0!=p.data("type")&&"half"==t(this).data("type")?e(p,"letyshops-circle-text-half",c.dimension/1.45):e(p,"letyshops-circle-text",c.dimension)),void 0!=t(this).data("total")&&void 0!=t(this).data("part")){var m=t(this).data("total")/100;percent=(t(this).data("part")/m/100).toFixed(3),l=(t(this).data("part")/m).toFixed(3)}else void 0!=t(this).data("percent")?(percent=t(this).data("percent")/100,l=t(this).data("percent")):percent=a.percent/100;void 0!=t(this).data("info")&&(s=t(this).data("info"),void 0!=t(this).data("type")&&"half"==t(this).data("type")?n(p,.9):n(p,1.25)),t(this).width(c.dimension+"px");var g=t("<canvas></canvas>").attr({width:c.dimension,height:c.dimension}).appendTo(t(this)).get(0),u=g.getContext("2d"),v=(t(g).parent(),g.width/2),x=g.height/2,b=(c.percent,Math.PI,g.width/2.5),z=2.3*Math.PI,P=0,y=0===c.animationstep?l:0,M=Math.max(c.animationstep,0),w=2*Math.PI,I=Math.PI/2,C=!0,k=c.startdegree/180*Math.PI;void 0!=t(this).data("type")&&"half"==t(this).data("type")&&(z=2*Math.PI,P=3.13,w=Math.PI,I=Math.PI/.996),o(y/100)})}}(jQuery);